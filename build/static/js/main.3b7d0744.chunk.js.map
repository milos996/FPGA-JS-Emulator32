{"version":3,"sources":["services/instructions/Instruction.js","utils/general.js","constants/general.js","services/cpu/CpuParser.js","constants/registers.js","constants/instructions.js","services/cpu/CpuEngine.js","services/parsers/FileParser.js","context/Context.js","store/Actions.js","components/ControlComponent.js","constants/output.js","components/OutputComponent.js","components/RegistersAndFlagsComponent.js","components/memory-component/MemoryCell.js","components/MemoryComponent.js","components/instructions-component/SingleInstruction.js","components/InstructionsComponent.js","pages/HomePage.js","store/ActionHandlers.js","store/Reducer.js","App.js","serviceWorker.js","index.js"],"names":["Instruction","memory","address","source","destination","symbolTable","this","argumentLength","content","argument","symbolAddress","addrStr","opcode","ssource","sdestination","assembler","isJump","hasArgument","REGISTER_VALUE_NAME_MAPPER","setContent","symbols","hasOwnProperty","convertToHexNumber","toString","length","formatUtil","context","Error","w1","Math","floor","w2","fixInt","fix8","fix","format","argumentSymbol","l","k","instruction","cpuEngine","addressInstruction","j","includes","a","b","result","sa","sign","f","r","arg","c1","c2","w","SHORT_NUMBER","MIN","realAddress","uart","Date","value","MAX","port","getTime","number","MEMORY_SIZE","FILE_EXTENSIONS","ASM","BIN","SYM","OUTPUT_MODES","TEXT","GRAPHICS_MODE_320_240","GRAPHICS_MODE_640_480","COLORS","PRIMARY","SECONDARY","PRIMARY_LIGHT","NEUTRAL","PRIMARY_DARK","CpuParser","lines","getInstruction","console","log","lineLength","push","tableLine","constructor","name","instructionRegister","group","InstructionObject","INSTRUCTIONS","InstructionClass","class","type","classI","default","cpuParser","0","1","2","3","4","5","6","7","8","9","10","11","12","13","15","14","INSTRUCTION_TYPES","ADD_W","ADD_S","ADD_B","SUB_W","SUB_S","AND_W","OR_W","XOR_W","SHL_W","SHR_W","MUL_W","DIV_W","AND_S","OR_S","XOR_S","SHL_S","SHR_S","MUL_S","DIV_S","SUB_B","AND_B","OR_B","XOR_B","SHL_B","SHR_B","MUL_B","DIV_B","FADD","FSUB","FMUL","FDIV","INSTRUCTIONS_TYPES_NAMES","irq0","irq2_pressed","irq2_released","irq0_address","irq2_pressed_address","irq2_released_address","inIrq","running","instructionResponse","prepareIrq","pc","exec","error","shouldRunAgain","sp","CpuParserClass","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","r10","r11","r12","r13","h","fileParser","file","data","extension","split","pop","asmParse","binParse","symParse","Promise","resolve","reject","reader","FileReader","onload","e","buffer","Array","fill","words","i","word","parseInt","readAsText","t","t1","t2","int32View","Int8Array","readAsArrayBuffer","map","index","element","trim","splitParts","ApplicationContext","React","createContext","state","dispatch","SET_MEMORY","SET_INSTRUCTIONS","SET_CONTEXT","UPDATE_OUTPUT","SET_SYMBOLS","HAS_SYMBOL_TABLE","RESET_STATE","SET_CURRENT_BREAKPOINT","SET_BREAKPOINTS","CLEAR_ALL_BREAKPOINTS","SET_VALUE_IN_MEMORY","ControlComponent","useContext","useState","files","setFiles","iteration","setIteration","stopFlag","setStopFlag","startFlag","setStartFlag","stepOverFlag","setStepOverFlag","engineProcessedData","setEngineResponseData","inject","useEffect","binFile","symFile","parse","payload","symData","parseFile","currentBreakpoint","breakpoints","processedEngineData","run","currState","id","accept","onChange","input","loadFiles","currentTarget","multiple","className","onClick","disabled","reset","BLACK","COLORS_MAPPER","KEY_VALUE_MAPPER","MAPPER_FUNCTION_FOR_OUTPUT","foregroundColor","getTextColor","backgroundColor","String","fromCharCode","inverse","groupColor","OutputComponent","output","setOutput","outputPayload","calculatedValueWithColors","outputMode","findIndex","slice","sort","firstElement","secondElement","updateOutput","onKeyUp","event","preventDefault","key","keyValue","tabIndex","style","color","BINARY_CONVERSION","LABELS_FOR_FLAGS","RegistersAndFlagsComponent","Object","keys","contextKey","toUpperCase","getLabel","getValueOfContextKey","MemoryCell","columnIndex","rowIndex","GRID_HEADERS","MemoryComponent","textAlign","height","width","display","borderBottom","header","columnCount","columnWidth","rowCount","rowHeight","gridProps","SingleInstruction","handleCheckboxInput","hasBreakpoint","isCurrentBreakpoint","background","checked","ROW_HEADER","isHeader","label","InstructionsComponent","currentPcPointer","setCurrentPcPointer","areInstructionsVisible","setInstructionsVisibility","myRef","useRef","hasSymbolTable","instructionsSet","parseInstructions","indexOfInstructions","setCurrentPcPointerIfInstructionOutOfView","current","scrollToItem","ref","itemData","itemCount","itemSize","overscanCount","border","borderRadius","itemKey","HomePage","isMemoryModalOpen","setIsMemoryModalOpen","marginTop","ariaHideApp","top","left","right","bottom","isOpen","contentLabel","shouldCloseOnOverlayClick","shouldCloseOnEsc","onRequestClose","initialState","reducer","action","ACTION_HANDLER","alert","Actions","symbolsMapper","breakpointAddress","breakpoint","instructionIndex","instructionAddress","App","useReducer","Provider","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3b7d0744.chunk.js","sourcesContent":["import { format as formatUtil } from 'util'\nimport { SHORT_NUMBER } from '@/constants/general'\nimport { REGISTER_VALUE_NAME_MAPPER } from '@/constants/registers'\nimport cpuEngine from '@/services/cpu/CpuEngine'\nimport { convertToHexNumber } from '@/utils/general'\n\nclass Instruction {\n\n  constructor (memory, address, source, destination, symbolTable) {\n    this.argumentLength = 2\n    this.content = ''\n    this.argument = null\n    this.symbolAddress = null\n    this.addrStr = null\n    this.source = null\n    this.destination = null\n    this.address = null\n    this.opcode = null\n    this.ssource = ''\n    this.sdestination = ''\n    this.assembler = ''\n\n    this.isJump = false\n    this.hasArgument = false\n\n    this.address = address\n    this.opcode = memory[address / 2]\n    this.source = source\n\t\tthis.destination = destination\n\t\tthis.ssource = REGISTER_VALUE_NAME_MAPPER[source]\n    this.sdestination = REGISTER_VALUE_NAME_MAPPER[destination]\n\n    this.setContent()\n\n    const symbols = symbolTable.hasOwnProperty(convertToHexNumber(address)) ? symbolTable[convertToHexNumber(address.toString(16))] : null\n\n\t\tif (symbols !== null && symbols.length > 0) {\n\t\t\tthis.symbolAddress = symbols\n\t\t\tthis.addrStr = formatUtil('%s (%s)', this.address.toString(16), symbols)\n\t\t} else {\n\t\t\tthis.addrStr = formatUtil('%s', this.address.toString(16))\n\t\t\tthis.symbolAddress = this.addrStr\n\t\t}\n  }\n\n  setContent () {\n    if (!this.opcode) {\n      return\n    }\n\n    if (!this.hasArgument) {\n      this.content = formatUtil('%s', this.opcode.toString(16))\n      return\n    }\n\n\t\tif (this.argumentLength === 4) {\n      this.content = formatUtil('%s, %s', this.opcode.toString(16), this.argument.toString(16))\n      return\n    }\n\n\t\tif (this.argumentLength === 2) {\n      this.content = formatUtil('%s, %s', this.opcode.toString(16), this.argument.toString(16))\n    }\n  }\n\n  exec ({ context, memory }) {\n\t\tthrow Error('Execution of this instruction is not possible!')\n  }\n\n  setArgument32 (memory) {\n\t\tconst w1 = memory[Math.floor((this.address + 2) / 2)]\n\t\tconst w2 = memory[Math.floor((this.address + 4) / 2)]\n\t\tthis.argument = Instruction.fixInt(w1, w2)\n\t\tthis.hasArgument = true\n\t\tthis.argumentLength = 4\n  }\n\n  setArgument8 (memory) {\n    // TODO short\n\t\tconst w1 = memory[Math.floor((this.address + 2) / 2)];\n\t\tthis.argument = Instruction.fix8(w1);\n\t\tthis.hasArgument = true;\n\t\tthis.argumentLength = 2;\n\t}\n\n\tsetArgument (memory) {\n    // TODO short\n    const w1 = memory[Math.floor((this.address + 2) / 2)];\n\n\t\tthis.argument = Instruction.fix(w1);\n\t\tthis.hasArgument = true;\n\t\tthis.argumentLength = 2;\n\t}\n\n  setAssembler(format, symbolTable) {\n\t\tif (!this.hasArgument) {\n      this.assembler = format\n      return\n    }\n\n    const argumentSymbol = symbolTable.hasOwnProperty(convertToHexNumber(this.argument)) ? symbolTable[convertToHexNumber(this.argument)] : null\n\n    if (argumentSymbol && argumentSymbol.length) {\n      this.assembler = formatUtil(format, argumentSymbol)\n      return\n    }\n\n    this.assembler = formatUtil(format, this.argument.toString(16))\n  }\n\n  findLabel(l) {\n\t\tif (l.length === 1) {\n      return 0\n    }\n\n\t\tfor (let k = this.address; k >= 0xB000; k--) {\n      const instruction = cpuEngine.addressInstruction[k]\n\n\t\t\tif (instruction === null) {\n        continue\n      }\n\n      for (let j = 0; j < l.length; j++) {\n        const lbl = l[j]\n\n\t\t\t\tif (lbl.includes(instruction.symbolAddress)) {\n\t\t\t\t\treturn j\n\t\t\t\t}\n\t\t\t}\n    }\n\n\t\tfor (let k = this.address; k < 90000; k++) {\n\t\t\tconst instruction = cpuEngine.addressInstruction[k]\n\n      if (instruction === null) {\n        continue\n      }\n\n      for (let j = 0; j < l.length; j++) {\n        const lbl = l[j]\n\n\t\t\t\tif (lbl.includes(instruction.symbolAddress)) {\n\t\t\t\t\treturn j;\n\t\t\t\t}\n\t\t\t}\n    }\n\n\t\treturn -1\n  }\n\n  static markOverflow(a, b, result, context) {\n\t\tconst sa = Instruction.sign(a);\n\t\tconst sb = Instruction.sign(b);\n    const sr = Instruction.sign(result);\n\n\t\tif (sa == sb & sa != sr) {\n      context.f |= 0x4\n\t\t\treturn\n    }\n\n    context.f &= 0xfffb;\n\n  }\n\n  //TODO: first parameter `long` -->> static markFlags(long res, int r, CpuContext ctx) {\n  static markFlags(result, r, context) {\n    // Z flag\n    context.f = r == 0 ?\n      context.f | 1 :\n      context.f & 0xfffe\n\n\t\t// P flag\n    context.f =  ((r < 0) || ((r & 0x80000000) == 1)) ?\n      context.f & 0xfff7 :\n      context.f | 0x8\n\n\t\t//TODO: long number `L` -->> if ((result & 0x100000000L) != 0) {\n\t\t// C flag\n    context.f = ((result & 0x100000000) != 0) ?\n      context.f | 2 :\n      context.f & 0xd\n\n\t}\n\n  static sign(a) {\n    return a & 0x80000000\n  }\n\n  static neg(arg) {\n    // TODO:  (int) ((0x100000000L - arg) & 0xffffffff); <<-- Conversion to int\n\t\treturn (0x100000000 - arg) & 0xffffffff\n\t}\n\n\tstatic push (memory, address, content) {\n\t\tconst w1 = (content >> 16)\n\t\tmemory[address] = w1\n\t\tconst w2 = (content & 0xFFFF)\n\t\tmemory[address + 1] = w2\n  }\n\n  static pop (memory, address) {\n    const c1 = memory[address]\n    const c2 = memory[address + 1]\n\n    return Instruction.fixInt(c1, c2)\n  }\n\n  static fixInt (w1, w2) {\n    const i1 = w1 >= 0 ? w1 : w1 & 0xFFFF\n\n    const i2 = w2 >= 0 ? w2 : w2 & 0xFFFF\n\n\t\treturn (i1 << 16) | i2\n  }\n\n  static fix8(w) {\n    // TODO: implement this\n    // return (byte) w;\n    return w & 0b11111111\n\t}\n\n  static fix (w) {\n    if (w < SHORT_NUMBER.MIN) {\n      return w & 0xFFFF\n    }\n\n    return w & 0xFFFFFFFF\n  }\n\n  static getMemContent(context, address, realAddress, memory) {\n\t\tif (realAddress & 0x80000000 != 0) {\n\t\t\tswitch (realAddress & 0x7FFFFFFF) {\n  \t\t\t//TODO: Do not have uart inside context, maybe not necessary\n  \t\t\tcase 64: return context.uart\n  \t\t\tcase 69: return (+(new Date()) >> 20)\n        default: return 0\n\t\t\t}\n    }\n\n    /**\n     * TODO: Short types\n     *\n     * short w1 = (short) (ctx.memory[addr]);\n     * short w2 = (short) (ctx.memory[addr + 1]);\n     */\n\t\tconst w1 = memory[address]\n    const w2 = memory[address + 1]\n\n\t\treturn Instruction.fixInt(w1, w2);\n\t}\n\n  // TODO: This might not work, check original method from JAVA FPGA\n  static setMemContent(memory, address, value, realAddress) {\n    if (value < SHORT_NUMBER.MIN || value > SHORT_NUMBER.MAX) {\n      /**\n       * TODO: cast to `short`\n       *  memory[address] = (short) (val >> 16);\n       *  memory[address + 1] = (short) (val & 0xFFFF);\n       *\n      */\n      memory[address] = value >> 16\n      memory[address + 1] = value & 0xFFFF\n      return\n    }\n\n    if ((realAddress & 0x80000000) == 0) {\n      memory[address] = value\n      return\n    }\n\n      // TODO: -> Check if this is necessary\n\t\t\t// int r = realAddress & 0x7FFFFFFF;\n\t\t\t// switch (r) {\n\t\t\t// case 128:\n\t\t\t// \tif (val == 1)\n\t\t\t// \t\tctx.engine.main.fbViewer.setMode(FBViewer.GRAPHICS_MODE_320_240);\n\t\t\t// \telse if (val == 2)\n\t\t\t// \t\tctx.engine.main.fbViewer.setMode(FBViewer.GRAPHICS_MODE_640_480);\n\t\t\t// \telse\n\t\t\t// \t\tctx.engine.main.fbViewer.setMode(FBViewer.TEXT_MODE);\n\t\t\t// \tbreak;\n\t\t\t// case 130:\n\t\t\t// \tif (val == 1) {\n\t\t\t// \t\tctx.engine.main.fbViewer.setInverse(true);\n\t\t\t// \t\tctx.engine.main.fbViewer.reset();\n\t\t\t// \t} else {\n\t\t\t// \t\tctx.engine.main.fbViewer.setInverse(false);\n\t\t\t// \t\tctx.engine.main.fbViewer.reset();\n\t\t\t// \t}\n\t\t\t// \tbreak;\n\t\t\t// }\n  }\n\n  static fromPort(port) {\n    switch (port) {\n      case 690: {\n        return new Date().getTime()\n      }\n    }\n    return 0;\n  }\n}\n\nexport default Instruction","export function convertToHexNumber(number) {\n  return `0x${number.toString(16)}`\n}","export const MEMORY_SIZE = 100000;\n\nexport const FILE_EXTENSIONS = {\n  ASM: 'asm',\n  BIN: 'bin',\n  SYM: 'sym'\n};\n\nexport const SHORT_NUMBER = {\n  MIN: -32768,\n  MAX: 32767\n}\n\nexport const OUTPUT_MODES = {\n  TEXT: 'text',\n  GRAPHICS_MODE_320_240: 'graphics_mode_320_240',\n  GRAPHICS_MODE_640_480: 'graphics_mode_640_480'\n}\n\nexport const COLORS = {\n  PRIMARY: '#4F87B8',\n  SECONDARY: '#F17300',\n  PRIMARY_LIGHT: '#81A4CD',\n  NEUTRAL: '#DBE4EE',\n  PRIMARY_DARK: '#054A91'\n}","import { INSTRUCTIONS } from '@/constants/instructions';\nimport Instruction from '@/services/instructions/Instruction'\n\nclass CpuParser {\n  async parse(memory, symbolTable) {\n    let address = 0;\n    let lines = [];\n    let addressInstruction = {};\n\n    while (address <= 100000) {\n      let instruction\n\n      try {\n        instruction = await CpuParser.getInstruction(address, memory, symbolTable);\n      } catch (e) {\n        console.log(e);\n      }\n\n      address += 2;\n      instruction.setContent();\n      const lineLength = lines.push(instruction);\n      instruction.tableLine = lineLength - 1;\n\n      if (instruction.hasArgument) {\n        address += instruction.argumentLength;\n      }\n\n      if (instruction.assembler !== 'nop') {\n        console.log(`${address}. INSTRUCTION -> ${instruction.assembler}  ----  ${instruction.constructor.name}`);\n      }\n\n      addressInstruction[instruction.address] = instruction;\n    }\n    console.log('DONE PARSING')\n\n    return {\n      lines,\n      addressInstruction\n    };\n  }\n\n  static async getInstruction(address, memory, symbolTable) {\n    const instructionRegister = memory[address / 2];\n    const group = (instructionRegister >> 4) & 0xf;\n    const source = (instructionRegister >> 12) & 0xf;\n    const destination = (instructionRegister >> 8) & 0xf;\n    let InstructionObject;\n\n    try {\n      InstructionObject = INSTRUCTIONS[instructionRegister & 0xf]\n\n      if (!InstructionObject.hasOwnProperty(group)) {\n        return new Instruction(memory, address , 0, 0, symbolTable)\n      }\n\n      InstructionObject = InstructionObject[group]\n    } catch (e) {\n      return new Instruction(memory, address , 0, 0, symbolTable)\n    }\n\n    const {class: InstructionClass, type = null} = InstructionObject\n\n    const classI = await InstructionClass()\n\n    if (!!type) {\n      return new classI.default(memory, address , source, destination, type, symbolTable);\n    }\n\n    return new classI.default(memory, address , source, destination, symbolTable);\n  }\n}\n\nconst cpuParser = new CpuParser();\nexport  {\n  cpuParser,\n  CpuParser as CpuParserClass\n};\n","export const REGISTER_VALUE_NAME_MAPPER = {\n  0: 'r0',\n  1: 'r1',\n  2: 'r2',\n  3: 'r3',\n  4: 'r4',\n  5: 'r5',\n  6: 'r6',\n  7: 'r7',\n  8: 'r8',\n  9: 'r9',\n  10: 'r10',\n  11: 'r11',\n  12: 'r12',\n  13: 'r13',\n  15: 'sp',\n  14: 'h',\n}\n","// NOP/MOV/IN/OUT/PUSH/POP/RET/IRET/HALT GROUP\nconst OTHERS_GROUP = 0;\n\nconst JUMP_GROUP = 1;\nconst CALL_GROUP = 2;\nconst LOAD_STORE_GROUP = 3;\nconst ADD_SUB_GROUP = 4;\nconst AND_OR_GROUP = 5;\nconst XOR_NEG_GROUP = 6;\nconst SHL_SHR_GROUP = 7;\nconst MUL_DIV_GROUP = 8;\nconst INC_DEC_GROUP = 9;\nconst CMP_INV_GROUP = 10;\nconst FLOATING_POINT_GROUP = 11;\nconst LD_ST_GROUP = 12;\nconst ALU_CMP_W_GROUP = 13;\nconst ALU_CMP_B_GROUP = 14;\n\nexport const INSTRUCTION_TYPES = {\n  ADD_W: 19,\n  ADD_S: 1,\n  ADD_B: 10,\n  SUB_W: 20,\n  SUB_S: 2,\n  AND_W: 21,\n  OR_W: 22,\n  XOR_W: 23,\n  SHL_W: 25,\n  SHR_W: 24,\n  MUL_W: 26,\n  DIV_W: 27,\n  AND_S: 3,\n  OR_S: 4,\n  XOR_S: 5,\n  SHL_S: 7,\n  SHR_S: 6,\n  MUL_S: 8,\n  DIV_S: 9,\n  SUB_B: 11,\n  AND_B: 12,\n  OR_B: 13,\n  XOR_B: 14,\n  SHL_B: 16,\n  SHR_B: 15,\n  MUL_B: 17,\n  DIV_B: 18,\n  FADD: 28,\n  FSUB: 29,\n  FMUL: 30,\n  FDIV: 31\n}\n\nexport const INSTRUCTIONS_TYPES_NAMES = {\n  [INSTRUCTION_TYPES.ADD_S]: \"add.s \",\n  [INSTRUCTION_TYPES.SUB_S]: \"sub.s \",\n  [INSTRUCTION_TYPES.AND_S]: \"and.s \",\n  [INSTRUCTION_TYPES.OR_S]: \"or.s \",\n  [INSTRUCTION_TYPES.XOR_S]: \"xor.s \",\n  [INSTRUCTION_TYPES.SHL_S]: \"shl.s \",\n  [INSTRUCTION_TYPES.SHR_S]: \"shr.s \",\n  [INSTRUCTION_TYPES.MUL_S]: \"mul.s \",\n  [INSTRUCTION_TYPES.DIV_S]: \"div.s \",\n  [INSTRUCTION_TYPES.ADD_B]: \"add.b \",\n  [INSTRUCTION_TYPES.SUB_B]: \"sub.b \",\n  [INSTRUCTION_TYPES.AND_B]: \"and.b \",\n  [INSTRUCTION_TYPES.OR_B]: \"or.b \",\n  [INSTRUCTION_TYPES.XOR_B]: \"xor.b \",\n  [INSTRUCTION_TYPES.SHL_B]: \"shl.b \",\n  [INSTRUCTION_TYPES.SHR_B]: \"shr.b \",\n  [INSTRUCTION_TYPES.MUL_B]: \"mul.b \",\n  [INSTRUCTION_TYPES.DIV_B]: \"div.b \",\n  [INSTRUCTION_TYPES.ADD_W]: \"add.w \",\n  [INSTRUCTION_TYPES.SUB_W]: \"sub.w \",\n  [INSTRUCTION_TYPES.AND_W]: \"and.w \",\n  [INSTRUCTION_TYPES.OR_W]: \"or.w \",\n  [INSTRUCTION_TYPES.XOR_W]: \"xor.w \",\n  [INSTRUCTION_TYPES.SHL_W]: \"shl.w \",\n  [INSTRUCTION_TYPES.SHR_W]: \"shr.w \",\n  [INSTRUCTION_TYPES.MUL_W]: \"mul.w \",\n  [INSTRUCTION_TYPES.DIV_W]: \"div.w \",\n  [INSTRUCTION_TYPES.FADD]: \"fadd \",\n  [INSTRUCTION_TYPES.FSUB]: \"fsub \",\n  [INSTRUCTION_TYPES.FMUL]: \"fmul \",\n  [INSTRUCTION_TYPES.FDIV]: \"fdiv \"\n}\n\nexport const INSTRUCTIONS = {\n  [OTHERS_GROUP]: {\n    0: {class: () => import('@/services/instructions/others/Nop') },\n    1: {class: () => import('@/services/instructions/others/MovWRegXRegY') },\n    2: {class: () => import('@/services/instructions/others/MovSRegXX') },\n    3: {class: () => import('@/services/instructions/others/InRegXX') },\n    4: {class: () => import('@/services/instructions/others/OutXXReg') },\n    5: {class: () => import('@/services/instructions/others/PushReg') },\n    6: {class: () => import('@/services/instructions/others/PushXX') },\n    7: {class: () => import('@/services/instructions/others/PopReg') },\n    8: {class: () => import('@/services/instructions/others/Ret') },\n    9: {class: () => import('@/services/instructions/others/IRet') },\n    10:{class: () => import( '@/services/instructions/others/SwapRegXRegY') },\n    11:{class: () => import( '@/services/instructions/others/MovWRegXX') },\n    12:{class: () => import( '@/services/instructions/others/Irq') },\n    13:{class: () => import( '@/services/instructions/others/MovBRegXX') },\n    14:{class: () => import( '@/services/instructions/others/MovWRegXRegYXX') },\n    15:{class: () => import( '@/services/instructions/others/Halt') }\n  },\n\n  [JUMP_GROUP]: {\n    0: {class: () => import('@/services/instructions/jmp/JXX')},\n    1: {class: () => import('@/services/instructions/jmp/JzXX')},\n    2: {class: () => import('@/services/instructions/jmp/JnzXX')},\n    3: {class: () => import('@/services/instructions/jmp/JcXX')},\n    4: {class: () => import('@/services/instructions/jmp/JncXX')},\n    5: {class: () => import('@/services/instructions/jmp/JoXX')},\n    6: {class: () => import('@/services/instructions/jmp/JnoXX')},\n    7: {class: () => import('@/services/instructions/jmp/JpXX')},\n    8: {class: () => import('@/services/instructions/jmp/JnpXX')},\n    9: {class: () => import('@/services/instructions/jmp/JgXX')},\n    10: {class: () => import('@/services/instructions/jmp/JseXX')},\n    15: {class : () => import('@/services/instructions/jmp/JrReg')}\n  },\n\n  [CALL_GROUP]: {\n    0: {class: () => import('@/services/instructions/call/CallXX')},\n    1: {class: () => import('@/services/instructions/call/CallZXX')},\n    2: {class: () => import('@/services/instructions/call/CallNzXX')},\n    3: {class: () => import('@/services/instructions/call/CallCXX')},\n    4: {class: () => import('@/services/instructions/call/CallNcXX')},\n    5: {class: () => import('@/services/instructions/call/CallOXX')},\n    6: {class: () => import('@/services/instructions/call/CallNoXX')},\n    7: {class: () => import('@/services/instructions/call/CallPXX')},\n    8: {class: () => import('@/services/instructions/call/CallNpXX')},\n    9: {class: () => import('@/services/instructions/call/CallGXX')},\n    10: {class: () => import('@/services/instructions/call/CallSeXX')}\n  },\n\n  [LOAD_STORE_GROUP]: {\n    0: {class: () => import('@/services/instructions/loadstore/LdSRegXMRegY')},\n    1: {class: () => import('@/services/instructions/loadstore/LdSRegMXX')},\n    2: {class: () => import('@/services/instructions/loadstore/LdSRegXMRegYXX')},\n    3: {class: () => import('@/services/instructions/loadstore/LdBRegXMRegY')},\n    4: {class: () => import('@/services/instructions/loadstore/LdBRegMXX')},\n    5: {class: () => import('@/services/instructions/loadstore/LdBRegXMRegYXX')},\n    8: {class: () => import('@/services/instructions/loadstore/StSMRegXRegY')},\n    9: {class: () => import('@/services/instructions/loadstore/StSMXXReg')},\n    10: {class: () => import('@/services/instructions/loadstore/StSMRegXXXRegY')},\n    11: {class: () => import('@/services/instructions/loadstore/StBMRegXRegY')},\n    12: {class: () => import('@/services/instructions/loadstore/StBMXXReg')},\n    13: {class: () => import('@/services/instructions/loadstore/StBMRegXXXRegY')}\n  },\n\n  [ADD_SUB_GROUP]: {\n    0: {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.ADD_W},\n    1: {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.ADD_S},\n    2: {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.ADD_W},\n    3: {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.ADD_S},\n    4: {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.ADD_B},\n    7: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.MUL_W},\n    8: {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.SUB_W},\n    9: {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.SUB_S},\n    10: {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.SUB_W},\n    11: {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.SUB_S},\n    12: {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.SUB_B}\n  },\n\n  [AND_OR_GROUP]: {\n    0: {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.AND_W},\n    1: {class: () => import('@/services/instructions/alu/AluSRegXX'),type: INSTRUCTION_TYPES.AND_S},\n    2: {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.AND_W},\n    3: {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.AND_S},\n    4: {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.AND_B},\n    6: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.SHR_W},\n    7: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.MUL_W},\n    8: {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.OR_W},\n    9: {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.OR_S},\n    10: {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.OR_W},\n    11: {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.OR_S},\n    12: {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.OR_B}\n  },\n\n  [XOR_NEG_GROUP]: {\n    0: {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.XOR_W},\n    1: {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.XOR_S},\n    2: {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.XOR_W},\n    3: {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.XOR_S},\n    4: {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.XOR_B},\n    8: {class: () => import('@/services/instructions/alu/NegWReg') },\n    10: {class: () => import('@/services/instructions/alu/NegWMreGXX') },\n    11: {class: () => import('@/services/instructions/alu/NegSMRegXX') },\n    12: {class: () => import('@/services/instructions/alu/NegBMRegXX') }\n  },\n\n  [SHL_SHR_GROUP]: {\n    0:  {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.SHL_W},\n    1:  {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.SHL_S},\n    2:  {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.SHL_W},\n    3:  {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.SHL_S},\n    4:  {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.SHL_B},\n    8:  {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.SHR_W},\n    9:  {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.SHR_S},\n    10:  {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.SHR_W},\n    11:  {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.SHR_S},\n    12:  {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.SHR_B}\n  },\n\n  [MUL_DIV_GROUP]: {\n    0:  {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.MUL_W },\n    1:  {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.MUL_S },\n    2:  {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.MUL_W },\n    3:  {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.MUL_S },\n    4:  {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.MUL_B },\n    8:  {class: () => import('@/services/instructions/alu/AluWRegXRegY'), type: INSTRUCTION_TYPES.DIV_W },\n    9:  {class: () => import('@/services/instructions/alu/AluSRegXX'), type: INSTRUCTION_TYPES.DIV_S },\n    10:  {class: () => import('@/services/instructions/alu/AluWRegXMRegYXX'), type: INSTRUCTION_TYPES.DIV_W },\n    11:  {class: () => import('@/services/instructions/alu/AluSRegXMRegYXX'), type: INSTRUCTION_TYPES.DIV_S },\n    12:  {class: () => import('@/services/instructions/alu/AluBRegXMRegYXX'), type: INSTRUCTION_TYPES.DIV_B }\n  },\n\n  [INC_DEC_GROUP]: {\n    0: {class: () => import('@/services/instructions/incdec/IncWReg')},\n    1: {class: () => import('@/services/instructions/incdec/IncSMReg')},\n    2: {class: () => import('@/services/instructions/incdec/IncWMRegXX')},\n    3: {class: () => import('@/services/instructions/incdec/IncSMRegXX')},\n    4: {class: () => import('@/services/instructions/incdec/IncBMRegXX')},\n    6: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.SHR_W},\n    8: {class: () => import('@/services/instructions/incdec/DecWReg')},\n    9: {class: () => import('@/services/instructions/incdec/DecSMReg')},\n    10: {class: () => import('@/services/instructions/incdec/DecWMRegXX')},\n    11: {class: () => import('@/services/instructions/incdec/DecSMRegXX')},\n    12: {class: () => import('@/services/instructions/incdec/DecBMRegXX')}\n  },\n\n  [CMP_INV_GROUP]: {\n    0: {class: () => import('@/services/instructions/cmpinv/CmpWRegXRegY')},\n    1: {class: () => import('@/services/instructions/cmpinv/CmpSRegXX')},\n    2: {class: () => import('@/services/instructions/cmpinv/CmpWRegXMRegYXX')},\n    3: {class: () => import('@/services/instructions/cmpinv/CmpSRegXMRegYXX')},\n    4: {class: () => import('@/services/instructions/cmpinv/CmpBRegXMRegYXX')},\n    8: {class: () => import('@/services/instructions/cmpinv/InvWReg')},\n    10: {class: () => import('@/services/instructions/cmpinv/InvWMRegXX')},\n    11: {class: () => import('@/services/instructions/cmpinv/InvSMRegXX')},\n    12: {class: () => import('@/services/instructions/cmpinv/InvBMRegXX')}\n  },\n\n  [FLOATING_POINT_GROUP]: {\n    2: {class: () => import('@/services/instructions/floatingpoint/FloatRegXRegY'), type: INSTRUCTION_TYPES.FADD },\n    3: {class: () => import('@/services/instructions/floatingpoint/FloatRegXRegY'), type: INSTRUCTION_TYPES.FSUB },\n    4: {class: () => import('@/services/instructions/floatingpoint/FloatRegXRegY'), type: INSTRUCTION_TYPES.FMUL },\n    5: {class: () => import('@/services/instructions/floatingpoint/FloatRegXRegY'), type: INSTRUCTION_TYPES.FDIV },\n    7: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.MUL_W}\n  },\n\n  [LD_ST_GROUP]: {\n    0: { class: () => import('@/services/instructions/loadstore/LdWRegXMRegY') },\n    1: { class: () => import('@/services/instructions/loadstore/LdWRegMXX') },\n    2: { class: () => import('@/services/instructions/loadstore/LdWRegXMRegYXX') },\n    3: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.OR_W},\n    4: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.XOR_W},\n    6: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.SHR_W},\n    7: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.MUL_W},\n    8: { class: () => import('@/services/instructions/loadstore/StWMRegXRegY') },\n    9: { class: () => import('@/services/instructions/loadstore/StWMXXReg') },\n    10: { class: () => import('@/services/instructions/loadstore/StWMRegXXXRegY') }\n  },\n\n  [ALU_CMP_W_GROUP]: {\n    0: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.ADD_W},\n    1: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.SUB_W},\n    2: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.AND_W},\n    3: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.OR_W},\n    4: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.XOR_W},\n    5: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.SHL_W},\n    6: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.SHR_W},\n    7: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.MUL_W},\n    8: { class: () => import('@/services/instructions/alu/AluWRegXX'), type: INSTRUCTION_TYPES.DIV_W},\n    9: { class: () => import('@/services/instructions/cmpinv/CmpWRegXX')}\n  },\n\n  [ALU_CMP_B_GROUP]: {\n    0: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.ADD_B},\n    1: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.SUB_B},\n    2: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.AND_B},\n    3: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.OR_B},\n    4: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.XOR_B},\n    5: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.SHL_B},\n    6: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.SHR_B},\n    7: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.MUL_B},\n    8: { class: () => import('@/services/instructions/alu/AluBRegXX'), type: INSTRUCTION_TYPES.DIV_B},\n    9: { class: () => import('@/services/instructions/cmpinv/CmpBRegXX')}\n  }\n};\n","import { CpuParserClass } from '@/services/cpu/CpuParser'\nimport Instruction from '@/services/instructions/Instruction'\n\nclass CpuEngine {\n\tconstructor() {\n\t\tthis.irq0 = false\n\t\tthis.irq2_pressed = false\n\t\tthis.irq2_released = false\n\n\t\tthis.irq0_address = 8\n\t\tthis.irq2_pressed_address = 32\n\t\tthis.irq2_released_address = 40\n\t\tthis.inIrq = false\n\n\t\tthis.memory = []\n\t\tthis.lines = []\n\t\tthis.addressInstruction = {}\n\t\tthis.symbolTable = {}\n\n\t\tthis.context = {}\n\n\t\tthis.running = true\n\t}\n\n  run() {\n\t\tlet instructionResponse;\n\n\t\tif (\n\t\t\tthis.irq0 ||\n\t\t\tthis.irq2_pressed ||\n\t\t\tthis.irq2_released\n\t\t) {\n\t\t\tthis.prepareIrq()\n\t\t}\n\n\t\tconsole.log(\"PC: \" + this.context.pc);\n\n\t\tconst instruction = this.addressInstruction[Instruction.fix(this.context.pc)]\n\n\t\ttry {\n\t\t\tinstructionResponse = instruction.exec({\n\t\t\t\tcontext: this.context,\n\t\t\t\tmemory: this.memory\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tthis.running = false\n\t\t\tconsole.log(error)\n\t\t}\n\n\t\treturn {\n\t\t\tshouldRunAgain: this.running,\n\t\t\tcontext: this.context,\n\t\t\tmemory: this.memory,\n\t\t\tinstructionResponse: {\n\t\t\t\t...instructionResponse,\n\t\t\t}\n\t\t}\n  }\n\n  async prepareIrq() {\n\t\tif (this.irq0 && this.memory[this.irq0_address] === 0) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.irq2_pressed && this.memory[this.irq2_pressed_address / 2] === 0) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.irq2_released && this.memory[this.irq2_released_address / 2] === 0) {\n\t\t\treturn\n\t\t}\n\n\t\t// Push flags\n\t\tthis.context.sp -= 2\n\t\tthis.memory[Math.floor(Instruction.fix(this.context.sp) / 2)] = this.context.f\n\n\t\t// Push PC\n\t\tthis.context.sp -= 4\n\t\tthis.memory[Math.floor(Instruction.fix(this.context.sp) / 2)] = this.context.pc  >> 16\n\t\tthis.memory[Math.floor(Instruction.fix(this.context.sp + 2) / 2)] = this.context.pc  & 0xFFFF\n\n\t\tif (this.irq0) {\n\t\t\t// Jump to the IRQ1 handler\n\t\t\tthis.context.pc  = this.irq0_address\n\n\t\t\ttry {\n\t\t\t\tlet instruction = await CpuParserClass.getInstruction(this.irq0_address, this.memory, this.symbolTable)\n\n\t\t\t\tinstruction.setContent()\n\n\t\t\t\tthis.addressInstruction[this.irq0_address] = instruction\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('Instruction does not exits')\n\t\t\t}\n\n\t\t\tthis.irq0 = false\n\t\t} else if (this.irq2_pressed) {\n\t\t\tthis.irq2_pressed = false\n\t\t\t// Jump to the IRQ2 pressed handler\n\n\t\t\tthis.context.pc  = this.irq2_pressed_address\n\n\t\t\ttry {\n\t\t\t\tlet instruction = await CpuParserClass.getInstruction(this.irq2_pressed_address, this.memory, this.symbolTable)\n\t\t\t\tinstruction.setContent()\n\n\t\t\t\tthis.addressInstruction[this.irq2_pressed_address] = instruction\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('Instruction does not exits')\n\t\t\t}\n\t\t} else if (this.irq2_released) {\n\t\t\tthis.irq2_released = false\n\t\t\t// Jump to the IRQ2 released handler\n\t\t\tthis.context.pc  = this.irq2_released_address\n\t\t\ttry {\n\t\t\t\tlet instruction = await CpuParserClass.getInstruction(this.irq2_released_address, this.memory, this.symbolTable)\n\t\t\t\tinstruction.setContent()\n\t\t\t\tthis.addressInstruction[this.irq2_released_address] = instruction\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('Instruction does not exits')\n\t\t\t}\n\t\t}\n\t}\n\n\thalt () {\n\t\tthis.running = false\n\t}\n\n\tinject(memory, lines, addressInstruction, symbolTable) {\n\t\tthis.memory = memory\n\t\tthis.lines = lines\n\t\tthis.addressInstruction = addressInstruction\n\t\tthis.symbolTable = symbolTable\n\n\t\tthis.context = {\n\t\t\tr0: 0,\n\t\t\tr1: 0,\n\t\t\tr2: 0,\n\t\t\tr3: 0,\n\t\t\tr4: 0,\n\t\t\tr5: 0,\n\t\t\tr6: 0,\n\t\t\tr7: 0,\n\t\t\tr8: 0,\n\t\t\tr9: 0,\n\t\t\tr10: 0,\n\t\t\tr11: 0,\n\t\t\tr12: 0,\n\t\t\tr13: 0,\n\t\t\tpc: 45056,\n\t\t\tsp: 0,\n\t\t\th: 0,\n\t\t\tf: 0\n\t\t}\n\t}\n}\n\nconst cpuEngine = new CpuEngine()\n\nexport default cpuEngine\n","import { MEMORY_SIZE, FILE_EXTENSIONS } from '../../constants/general';\n\nclass FileParser {\n  async parse(file) {\n\n    if (file === null) {\n      return { data: null }\n    }\n\n   const extension = file.name.split('.').pop();\n\n    if (extension === FILE_EXTENSIONS.ASM) {\n      return await this.asmParse(file);\n    }\n\n    if (extension === FILE_EXTENSIONS.BIN) {\n      return await this.binParse(file)\n    }\n\n    if (extension === FILE_EXTENSIONS.SYM) {\n      return await this.symParse(file)\n    }\n  }\n\n  asmParse(file) {\n    // TODO Not working\n    return new Promise((resolve, reject) => {\n      try {\n        const reader = new FileReader();\n\n        reader.onload = e => {\n          const buffer = reader.result;\n\n          //TODO: Check this, how it works\n          let memory = Array(MEMORY_SIZE).fill(0);\n\n          let words = buffer.split(' ');\n          let address = 0;\n          for (let i = 0; i < words.length; i++) {\n            const word = words[i];\n            memory[address++] = parseInt(word, 16);\n          }\n\n          resolve({ data: memory })\n        }\n\n        reader.readAsText(file);\n      } catch (error) {\n        reject({ error })\n      }\n    })\n  }\n\n  binParse (file) {\n    return new Promise((resolve, reject) => {\n      try {\n        const reader = new FileReader();\n\n        reader.onload = e => {\n          const buffer = reader.result;\n          const int32View = new Int8Array(buffer);\n\n          let memory = Array(MEMORY_SIZE).fill(0);\n          let t, t1, t2;\n\n          for (let i = 0; i < memory.length / 2; i++) {\n            t1 = int32View[i * 2];\n\n            if (t1 < 0) {\n              t1 = 256 + t1;\n            }\n\n            t = t1 << 8;\n\n            t2 = int32View[i * 2 + 1];\n\n            if (t2 < 0) {\n              t2 = 256 + t2;\n            }\n\n            t += t2;\n\n            memory[i] = t;\n          }\n\n          resolve({ data: memory })\n        };\n\n        reader.readAsArrayBuffer(file);\n      } catch (error) {\n        reject({ error })\n      }\n    })\n  }\n\n  symParse (file) {\n    return new Promise((resolve, reject) => {\n      try {\n        const reader = new FileReader();\n\n        reader.onload = e => {\n          const lines = reader.result.split('\\n')\n\n          let map = {}\n\n          for (let index = 0; index < lines.length; index++) {\n            const element = lines[index];\n\n            if (element.trim() === '') {\n              continue\n            }\n\n            const splitParts = element.split('=')\n\n            map[splitParts[1].trim()] = splitParts[0].trim()\n          }\n\n          resolve({ data: map })\n        };\n\n        reader.readAsText(file);\n      } catch (error) {\n        reject({ error })\n      }\n    })\n  }\n}\n\nconst fileParser = new FileParser();\nexport default fileParser;\n","import React from 'react';\n\nconst initialContext = {\n  state: null,\n  dispatch: () => {}\n};\n\nconst ApplicationContext = React.createContext(initialContext);\n\nexport default ApplicationContext;\n","export const SET_MEMORY = 'SET_MEMORY'\nexport const SET_INSTRUCTIONS = 'SET_INSTRUCTIONS'\nexport const SET_CONTEXT = 'SET_CONTEXT'\nexport const UPDATE_OUTPUT = 'UPDATE_OUTPUT'\nexport const SET_SYMBOLS = 'SET_SYMBOLS'\nexport const HAS_SYMBOL_TABLE = 'HAS_SYMBOL_TABLE'\nexport const RESET_STATE = 'RESET_STATE'\nexport const SET_CURRENT_BREAKPOINT = 'SET_CURRENT_BREAKPOINT'\nexport const SET_BREAKPOINTS = 'SET_BREAKPOINTS'\nexport const CLEAR_ALL_BREAKPOINTS = 'CLEAR_ALL_BREAKPOINTS'\nexport const SET_VALUE_IN_MEMORY = 'SET_VALUE_IN_MEMORY'","import React, { useState, useEffect, useContext } from 'react';\nimport fileParser from '@/services/parsers/FileParser';\nimport cpuEngine from '@/services/cpu/CpuEngine';\nimport ApplicationContext from '@/context/Context';\nimport { SET_MEMORY, SET_CONTEXT, UPDATE_OUTPUT, SET_SYMBOLS, HAS_SYMBOL_TABLE, RESET_STATE, SET_CURRENT_BREAKPOINT } from '@/store/Actions';\n\nexport default function ControlComponent() {\n  const { dispatch, state } = useContext(ApplicationContext);\n  const [files, setFiles] = useState([]);\n  const [iteration, setIteration] = useState(0)\n  const [stopFlag, setStopFlag] = useState(() => false)\n  const [startFlag, setStartFlag] = useState(() => false)\n  const [stepOverFlag, setStepOverFlag] = useState(() => false)\n  const [engineProcessedData, setEngineResponseData] = useState({ shouldRunAgain: true })\n\n  function handleUploadFile(input) {\n    const fileInput = input.currentTarget;\n\n    const loadFiles = fileInput.files;\n\n    setFiles(loadFiles);\n    loadFiles.length > 1 && dispatch({ type: HAS_SYMBOL_TABLE, payload: true })\n  }\n\n  async function handleStart() {\n    if (!startFlag || (startFlag && !stopFlag)) {\n      cpuEngine.inject(state.memory, state.lines, state.addressInstruction, state.symbolTable)\n    }\n\n    setStartFlag(true)\n    setStopFlag(false)\n  }\n\n  function handleStop () {\n    setStopFlag(true)\n  }\n\n  function handleStepOver () {\n    setStepOverFlag(true)\n  }\n\n  function handleReset () {\n    dispatch({ type: RESET_STATE, payload: state.reset + 1 })\n    setStartFlag(false)\n  }\n\n  useEffect(() => {\n    async function parseFile() {\n      if (files.length) {\n        let binFile = files[0]\n        let symFile = null\n\n        if (files.length > 1) {\n          binFile = files[0].name.includes('.bin')\n            ? files[0]\n            : files[1]\n\n          symFile = files[0].name.includes('.sym')\n            ? files[0]\n            : files[1]\n        }\n\n        const { data } = await fileParser.parse(binFile);\n        dispatch({ type: SET_MEMORY, payload: data });\n\n        if (symFile) {\n          const { data: symData } = await fileParser.parse(symFile)\n          dispatch({ type: SET_SYMBOLS, payload: symData})\n        }\n\n        return\n      }\n    }\n\n    parseFile();\n  }, [files]);\n\n  useEffect(() => {\n    async function run() {\n      if (stepOverFlag) {\n        setStepOverFlag(false)\n      }\n\n      if (state.currentBreakpoint !== cpuEngine.context.pc && state.breakpoints.includes(cpuEngine.context.pc) && !stepOverFlag) {\n        dispatch({type: SET_CURRENT_BREAKPOINT, payload: cpuEngine.context.pc})\n        setStopFlag(true)\n        return\n      }\n\n      dispatch({type: SET_CURRENT_BREAKPOINT, payload: null})\n\n      const processedEngineData = cpuEngine.run()\n\n      await dispatch({ type: SET_MEMORY, payload: processedEngineData.memory})\n      await dispatch({type: SET_CONTEXT, payload: processedEngineData.context})\n\n      if (processedEngineData.instructionResponse.content || processedEngineData.instructionResponse.content === 0) {\n        await dispatch({ type: UPDATE_OUTPUT, payload: processedEngineData.instructionResponse })\n      }\n\n      setEngineResponseData(processedEngineData)\n    }\n\n\n    if ((startFlag && !stopFlag && engineProcessedData.shouldRunAgain) || (stepOverFlag && engineProcessedData.shouldRunAgain)) {\n      console.log('ITERATION:', iteration);\n\n      run()\n      setIteration((currState) => currState+1)\n    }\n  }, [startFlag, stopFlag, engineProcessedData, stepOverFlag])\n\n  return (\n    <div>\n      <input\n        type='file'\n        id='avatar'\n        accept=\".bin,.sym\"\n        name='avatar'\n        onChange={handleUploadFile}\n        multiple={true}\n      />\n      <button className=\"my-button\" onClick={handleStart} disabled={!files.length}> Start </button>\n      <button className=\"my-button\" onClick={handleStop} disabled={!files.length}> Stop </button>\n      <button className=\"my-button\" onClick={handleStepOver} disabled={!files.length}> Step over </button>\n      <button className=\"my-button\" onClick={handleReset} disabled={!files.length}> Reset </button>\n    </div>\n  );\n        }","\nconst RED = 'red'\nconst GREEN = 'green'\nconst BLUE = 'blue'\nconst PINK = 'pink'\nconst YELLOW = 'yellow'\nconst LIGHT_BLUE = 'light_blue'\nexport const WHITE = 'white'\nexport const BLACK = 'black'\n\n\nexport const COLORS = {\n  [RED]: '#ff0000',\n  [WHITE]: '#ffffff',\n  [BLACK]: '#000000',\n  [GREEN]: '#33cc33',\n  [BLUE]: '#0000ff',\n  [PINK]: '#ff99ff',\n  [YELLOW]: '#ffff00',\n  [LIGHT_BLUE]: '#00ffff',\n}\n\nconst INVERSE = 1\nconst REGULAR = 0\n\nexport const COLORS_MAPPER = {\n  [REGULAR]: {\n    0: COLORS[BLACK],\n    1: COLORS[RED],\n    2: COLORS[GREEN],\n    3: COLORS[YELLOW],\n    4: COLORS[BLUE],\n    5: COLORS[PINK],\n    6: COLORS[LIGHT_BLUE],\n    7: COLORS[WHITE]\n  },\n  [INVERSE]: {\n    0: COLORS[WHITE],\n    1: COLORS[LIGHT_BLUE],\n    2: COLORS[PINK],\n    3: COLORS[BLUE],\n    4: COLORS[YELLOW],\n    5: COLORS[GREEN],\n    6: COLORS[RED],\n    7: COLORS[BLACK]\n  }\n}\n\nconst UP = 'ArrowUp'\nconst DOWN = 'ArrowDown'\nconst RIGHT = 'ArrowRight'\nconst LEFT = 'ArrowLeft'\n\nexport const KEY_VALUE_MAPPER = {\n  [UP]: 4000,\n  [DOWN]: 4002,\n  [RIGHT]: 4003,\n  [LEFT]: 4001\n}","import React, {useState, useEffect, useContext} from \"react\"\nimport ApplicationContext from '@/context/Context'\nimport { OUTPUT_MODES } from '@/constants/general'\nimport { COLORS_MAPPER, COLORS, BLACK, WHITE} from '@/constants/output'\nimport { KEY_VALUE_MAPPER } from '@/constants/output'\nimport cpuEngine from '@/services/cpu/CpuEngine'\nimport { SET_VALUE_IN_MEMORY } from '@/store/Actions'\n\nconst MAPPER_FUNCTION_FOR_OUTPUT = {\n  [OUTPUT_MODES.TEXT]: calculateResultText\n}\n\nfunction calculateResultText(content) {\n\n  const foregroundColor = getTextColor((~((content >> 12) & 7))  & 0xffff);\n\tconst backgroundColor = getTextColor(((content >> 8) & 7)  & 0xffff);\n\n  return {\n    value: (content & 0xff) !== 0 ? String.fromCharCode(content & 0xff) : \" \",\n    foregroundColor,\n    backgroundColor\n  }\n}\n\nfunction getTextColor(content, inverse = true) {\n  const groupColor = content & 7\n\n  try {\n    return COLORS_MAPPER[inverse ? 1 : 0][groupColor]\n  } catch (error) {\n    return COLORS[BLACK]\n  }\n}\n\nexport default function OutputComponent() {\n  const [output, setOutput] = useState([])\n  const { dispatch, state } = useContext(ApplicationContext);\n\n  function handleKeyDownEvent (event) {\n    event.preventDefault();\n    try {\n      console.log(event.key);\n\n      const keyValue = KEY_VALUE_MAPPER[event.key]\n\n      if (!keyValue) {\n        throw new Error()\n      }\n\n      if (state.memory[cpuEngine.irq2_pressed_address / 2] === 0) {\n        return\n      }\n\n      dispatch({\n        type: SET_VALUE_IN_MEMORY,\n        payload: {\n          address: 24,\n          value: keyValue\n        }\n      })\n\n      cpuEngine.irq2_pressed = true\n      cpuEngine.irq2_released = false\n    } catch (error) {\n      console.log(`Key ${event.key} is not supported`)\n    }\n  }\n\n  function handleKeyUpEvent (event) {\n    event.preventDefault();\n    try {\n      console.log(event.key);\n\n      const keyValue = KEY_VALUE_MAPPER[event.key]\n\n      if (!keyValue) {\n        throw new Error()\n      }\n\n      if (state.memory[cpuEngine.irq2_released_address / 2] === 0) {\n        return\n      }\n\n      dispatch({\n        type: SET_VALUE_IN_MEMORY,\n        payload: {\n          address: 24,\n          value: keyValue\n        }\n      })\n\n      cpuEngine.irq2_pressed = false\n      cpuEngine.irq2_released = true\n\n    } catch (error) {\n      console.log(`Key ${event.key} is not supported`)\n    }\n  }\n\n  useEffect(() => {\n    function updateOutput() {\n      const calculatedValueWithColors = MAPPER_FUNCTION_FOR_OUTPUT[state.outputMode](state.outputPayload.content)\n      const index = output.findIndex((element) => element.address === state.outputPayload.address)\n\n      if (index !== -1) {\n        setOutput([\n          ...output.slice(0, index),\n          {\n            address: state.outputPayload.address,\n            ...calculatedValueWithColors\n          },\n          ...output.slice(index + 1)\n        ].sort((a, b) => a - b))\n      } else {\n        setOutput([\n          ...output,\n          {\n            address: state.outputPayload.address,\n            ...calculatedValueWithColors\n          }\n        ].sort((firstElement, secondElement) => firstElement.address - secondElement.address))\n      }\n    }\n\n    !!state.outputPayload && updateOutput()\n  }, [state.outputPayload])\n\n\n\n  useEffect(() => {\n    function resetOutputIfNeeded () {\n      if (state.reset) {\n        setOutput([])\n      }\n    }\n\n    resetOutputIfNeeded()\n  }, [state.reset])\n\n\n\n  return (\n    <div className=\"output\"\n    // onKeyDown={handleKeyDownEvent}\n    onKeyUp={handleKeyUpEvent}\n    tabIndex={0}\n    >\n        {output.map((element, index) =>\n          <span\n            key={index}\n            className=\"letter-spacing\"\n            style={{\n              color: element.foregroundColor,\n              backgroundColor: element.backgroundColor\n            }}\n          >\n            {element.value}\n          </span>\n        )}\n    </div>\n  )\n}\n","import React, {useState, useEffect, useContext} from \"react\"\nimport ApplicationContext from '@/context/Context'\n\nconst BINARY_CONVERSION = ['f']\nconst LABELS_FOR_FLAGS = {\n  f: 'POCZ'\n}\n\nexport default function RegistersAndFlagsComponent () {\n  const { state } = useContext(ApplicationContext);\n\n  function getLabel (contextKey) {\n    return (LABELS_FOR_FLAGS.hasOwnProperty(contextKey) ? LABELS_FOR_FLAGS[contextKey] : contextKey).toUpperCase()\n  }\n\n  function getValueOfContextKey(contextKey) {\n    if (BINARY_CONVERSION.includes(contextKey)) {\n      return state.context[contextKey].toString(2)\n    }\n\n    return state.context[contextKey].toString(16)\n  }\n\n  return (\n    <div className='horizontal-alignment flex-wrap'>\n      {Object.keys(state.context).map((contextKey, index) => (\n        <div key={index} className=\"vertical-alignment flag-style\">\n          <span> {getLabel(contextKey)} </span>\n          <span> {getValueOfContextKey(contextKey)} </span>\n        </div>\n      ))}\n    </div>\n  )\n}\n","import React from 'react'\nimport { convertToHexNumber } from '@/utils/general'\n\nexport default function MemoryCell({ columnIndex, rowIndex, style, memory }) {\n  let content = null\n\n  if (columnIndex === 0) {\n    content = (4 * rowIndex) * 2\n  } else {\n    const index = (4 * rowIndex) - 1 + columnIndex\n    content = memory.length > index  ? memory[index] : 0\n  }\n\n  return (\n    <div style={style}>\n      {convertToHexNumber(content)}\n    </div>\n  )\n}\n","import React, { useContext } from \"react\"\nimport { FixedSizeGrid as Grid } from 'react-window';\nimport ApplicationContext from '@/context/Context'\nimport MemoryCell from '@/components/memory-component/MemoryCell';\n\nconst GRID_HEADERS = ['Address', '0-1', '2-3', '4-5', '6-7']\n\nexport default function MemoryComponent() {\n  const { state } = useContext(ApplicationContext);\n\n  return <div>\n    <h2 style={{\n      textAlign: 'center'\n    }}>Memory</h2>\n    <div>\n    <div\n      style={{\n        height: 30,\n        width: 400,\n        display: 'flex',\n        borderBottom: 'black solid 1px'\n      }}\n    >\n      {GRID_HEADERS.map((header, index) => (\n        <span\n          key={index}\n          style={{\n            width: 80\n          }}\n        >\n          {header}\n        </span>\n      ))}\n\n    </div>\n    <Grid\n      columnCount={5}\n      columnWidth={80}\n      height={400}\n      rowCount={200000/4}\n      rowHeight={30}\n      width={400}\n    >\n      {(gridProps) => <MemoryCell memory={state.memory} {...gridProps}/>}\n    </Grid>\n    </div>\n  </div>\n}\n","import React from 'react'\nimport { convertToHexNumber } from '@/utils/general'\nimport { COLORS } from '@/constants/general'\n\nexport default function SingleInstruction({\n  addressInstruction,\n  data,\n  index,\n  pc,\n  style,\n  handleCheckboxInput,\n  hasBreakpoint = false,\n  isCurrentBreakpoint = false\n}) {\n  const instruction = addressInstruction[data[index]]\n\n  function getBackgroundColor () {\n    if (isCurrentBreakpoint) {\n      return COLORS.PRIMARY_DARK\n    }\n\n    return instruction.address === pc ? COLORS.SECONDARY : '#FFFFFF'\n  }\n\n  function getColor () {\n    if (isCurrentBreakpoint) {\n      return COLORS.NEUTRAL\n    }\n\n    return instruction.address === pc ? COLORS.NEUTRAL : '#000000'\n  }\n\n  return (\n    <div\n    style={{\n      height: 30,\n      width: 700,\n      display: 'flex',\n      background: getBackgroundColor(),\n      color: getColor(),\n      ...style\n     }}\n    >\n      <span\n        style={{\n          width: 33\n        }}>\n          <input\n            type=\"checkbox\"\n            checked={hasBreakpoint}\n            value={instruction.address}\n            onChange={handleCheckboxInput}\n          />\n      </span>\n      <span\n          style={{\n            width: 200\n          }}\n        >\n           {instruction.addrStr}\n        </span>\n        <span\n          style={{\n            width: 233\n          }}\n        >\n           { instruction.content }\n        </span>\n        <span\n          style={{\n            width: 233\n          }}\n        >\n          { instruction.assembler }\n        </span>\n    </div>\n  )\n}\n","import React, { useEffect, useRef, useState , useContext} from 'react';\nimport { FixedSizeList as List } from 'react-window'\nimport ApplicationContext from '@/context/Context'\nimport { cpuParser } from '@/services/cpu/CpuParser';\nimport { SET_INSTRUCTIONS, SET_BREAKPOINTS, CLEAR_ALL_BREAKPOINTS } from '@/store/Actions';\nimport SingleInstruction from '@/components/instructions-component/SingleInstruction'\nimport { COLORS } from '@/constants/general';\nimport cpuEngine from '@/services/cpu/CpuEngine';\n\nconst ROW_HEADER = [\n  {\n    isHeader: true,\n    label: 'Address'\n  },\n  {\n    isHeader: true,\n    label: 'Content'\n  },\n  {\n    isHeader: true,\n    label: 'Assembler'\n  }\n]\n\nexport default function InstructionsComponent() {\n  const { dispatch, state } = useContext(ApplicationContext);\n\n  const [currentPcPointer, setCurrentPcPointer] = useState(0)\n  const [areInstructionsVisible, setInstructionsVisibility] = useState(true)\n\n  const myRef = useRef(null)\n\n  function addInstructionBreakpoint (address) {\n    dispatch({type: SET_BREAKPOINTS, payload: address})\n  }\n\n  useEffect(() => {\n    async function parseInstructions() {\n      if ((state.hasSymbolTable && Object.keys(state.symbolTable).length) || !state.hasSymbolTable) {\n        const instructionsSet = await cpuParser.parse(state.memory, state.symbolTable);\n\n        dispatch({ type: SET_INSTRUCTIONS, payload: instructionsSet });\n      }\n    }\n\n    if (state.memory.length > 0 && !Object.keys(state.addressInstruction).length) {\n      parseInstructions()\n    }\n\n  }, [state.memory, state.symbolTable])\n\n  useEffect(() => {\n    function setCurrentPcPointerIfInstructionOutOfView() {\n      const indexOfInstructions = Object.keys(state.addressInstruction).findIndex((address) => address == state.context.pc)\n\n      if (areInstructionsVisible && ((indexOfInstructions > currentPcPointer + 4) || (indexOfInstructions  < currentPcPointer - 4))) {\n        setCurrentPcPointer(indexOfInstructions + 6)\n      }\n    }\n\n    setCurrentPcPointerIfInstructionOutOfView()\n  }, [state.context.pc])\n\n  useEffect(() => {\n    function scrollToInstructionAtPcPointerAddress() {\n      myRef.current.scrollToItem(currentPcPointer)\n    }\n\n    scrollToInstructionAtPcPointerAddress()\n  }, [currentPcPointer])\n\n  useEffect(() => {\n    if (areInstructionsVisible) {\n      setCurrentPcPointer(currentPcPointer  + 2)\n      myRef.current.scrollToItem(currentPcPointer + 10)\n    }\n  }, [areInstructionsVisible])\n\n  useEffect(() => {\n    if(Object.keys(state.addressInstruction).length) {\n      setCurrentPcPointer(45056/2 + 10)\n      myRef.current.scrollToItem(45056/2 + 10)\n    }\n  }, [state.addressInstruction])\n\n  return (\n      <div>\n        <div className=\"instruction-buttons\">\n          <button className=\"my-button\" onClick={() => {\n            setInstructionsVisibility((currState) => !currState)\n          }}>\n            {areInstructionsVisible ? 'Hide' : 'Show'} instructions\n          </button>\n          <button className=\"my-button\" onClick={() => {\n            dispatch({ type: CLEAR_ALL_BREAKPOINTS})\n          }}>\n            Clear all breakpoints\n          </button>\n        </div>\n        {areInstructionsVisible &&\n          <div\n            style={{\n              height: 30,\n              width: 700,\n              display: 'flex'\n            }}\n          >\n            {ROW_HEADER.map((header, index) => (\n              <span\n                key={index}\n                style={{\n                  width: 233\n                }}\n              >\n                {header.label}\n              </span>\n            ))}\n\n          </div>\n        }\n        {areInstructionsVisible && Object.keys(state.addressInstruction) &&\n        <List\n          ref={myRef}\n          itemData={Object.keys(state.addressInstruction)}\n          itemCount={Object.keys(state.addressInstruction).length}\n          height={500}\n          itemSize={30}\n          overscanCount={15}\n          width={700}\n          style={{\n          border: `${COLORS.PRIMARY} solid 1px`,\n          borderRadius: 5\n          }}\n          itemKey={(index, data) => { return data[index]}}\n        >\n        {({ index, data, style}) => (\n          <SingleInstruction\n            index={index}\n            data={data}\n            style={style}\n            addressInstruction={state.addressInstruction}\n            pc={state.context.pc}\n            hasBreakpoint={state.breakpoints.includes(state.addressInstruction[data[index]].address)}\n            handleCheckboxInput={() => addInstructionBreakpoint(state.addressInstruction[data[index]].address)}\n            isCurrentBreakpoint={state.currentBreakpoint === state.addressInstruction[data[index]].address && state.addressInstruction[data[index]].address === state.context.pc}\n          />\n        )}\n        </List>\n        }\n      </div>\n    )\n}\n","import React, { useState }  from 'react';\nimport ControlComponent from '@/components/ControlComponent';\nimport OutputComponent from '@/components/OutputComponent';\nimport RegistersAndFlagsComponent from '@/components/RegistersAndFlagsComponent';\nimport MemoryComponent from '@/components/MemoryComponent';\nimport Modal from 'react-modal';\nimport InstructionsComponent from '@/components/InstructionsComponent';\nimport { COLORS } from '@/constants/general';\n\nexport default function HomePage() {\n\n  const [isMemoryModalOpen, setIsMemoryModalOpen] = useState(false)\n\n  return (\n    <div>\n      <h1>FPGA EMULTAOR</h1>\n      <div className=\"horizontal-alignment main\">\n        <div className=\"vertical-alignment home-part-1\">\n          <ControlComponent />\n          <OutputComponent />\n        </div>\n        <div className=\"vertical-alignment\">\n          <RegistersAndFlagsComponent />\n          <InstructionsComponent />\n          <div className=\"horizontal-alignment\">\n            <button className=\"my-button flex-auto\"\n              style={{\n                border: `${COLORS.PRIMARY_LIGHT} solid 1px`,\n                marginTop: 5,\n              }}\n              onClick={() => setIsMemoryModalOpen(true)}\n            >\n                <strong><i>Memory</i></strong>\n            </button>\n          </div>\n        </div>\n      </div>\n      <Modal\n        ariaHideApp={false}\n        style={{\n          content : {\n            top: '30%',\n            left: 'auto',\n            right: '10px',\n            bottom: 'auto',\n          }\n        }}\n        isOpen={isMemoryModalOpen}\n        contentLabel=\"Example Modal\"\n        shouldCloseOnOverlayClick={true}\n        shouldCloseOnEsc={true}\n        onRequestClose={() => setIsMemoryModalOpen(false)}\n      >\n        <MemoryComponent />\n      </Modal>\n    </div>\n  );\n}\n","export function SET_MEMORY_HANDLER (currState, payload) {\n  return {\n    ...currState,\n    memory: [...payload]\n  };\n}\n\nexport function SET_INSTRUCTIONS_HANDLER (\n  currState,\n  { lines, addressInstruction }\n) {\n  return {\n    ...currState,\n    lines: [...lines],\n    addressInstruction: {...addressInstruction}\n  };\n}\n\nexport function SET_CONTEXT_HANDLER (currState, context) {\n  return {\n    ...currState,\n    context: {\n      ...currState.context,\n      ...context\n    }\n  }\n}\nexport function SET_OUTPUT_PAYLOAD_HANDLER (currState, outputPayload) {\n  return {\n    ...currState,\n    outputPayload: { ...outputPayload }\n  }\n}\n\nexport function SET_SYMBOLS_HANDLER (currState, symbolsMapper) {\n  return {\n    ...currState,\n    symbolTable: { ...symbolsMapper }\n  }\n}\n\nexport function SET_HAS_SYMBOL_TABLE_HANDLER (currState, hasSymbolTable) {\n  return {\n    ...currState,\n    hasSymbolTable\n  }\n}\n\nexport function RESET_STATE_HANDLER (currState, reset) {\n  return {\n    ...currState,\n    reset\n  }\n}\n\nexport const SET_CURRENT_BREAKPOINT_HANDLER = (currState, breakpointAddress) => {\n  return {\n    ...currState,\n    currentBreakpoint: breakpointAddress\n  }\n}\n\nexport const SET_BREAKPOINTS_HANDLER = (currState, breakpoint) => {\n  const instructionIndex = currState.breakpoints.findIndex((instructionAddress) => instructionAddress === breakpoint)\n\n  if (instructionIndex !== -1) {\n    return {\n      ...currState,\n      breakpoints: [\n        ...currState.breakpoints.slice(0, instructionIndex),\n        ...currState.breakpoints.slice(instructionIndex + 1)\n      ]\n    }\n  }\n\n  return {\n    ...currState,\n    breakpoints: [\n      ...currState.breakpoints,\n      breakpoint\n    ]\n  }\n}\n\nexport const CLEAR_ALL_BREAKPOINTS_HANDLER = (currState) => {\n  return {\n    ...currState,\n    breakpoints: []\n  }\n}\n\nexport const SET_VALUE_IN_MEMORY_HANDLER = (currState, { address, value }) => {\n  return {\n    ...currState,\n    memory: [\n      ...currState.memory.slice(0, address),\n      value,\n      ...currState.memory.slice(address + 1)\n    ]\n  }\n}","import * as ActionHandlers from './ActionHandlers';\nimport * as Actions from './Actions';\nimport { OUTPUT_MODES } from '@/constants/general'\n\nexport const initialState = {\n  memory: [],\n  lines: [],\n  addressInstruction: {},\n  symbolTable: {},\n  context: {\n    r0: 0,\n\t\tr1: 0,\n\t\tr2: 0,\n\t\tr3: 0,\n\t\tr4: 0,\n\t\tr5: 0,\n\t\tr6: 0,\n\t\tr7: 0,\n\t\tr8: 0,\n\t\tr9: 0,\n\t\tr10: 0,\n\t\tr11: 0,\n\t\tr12: 0,\n\t\tr13: 0,\n\t\tpc: 0,\n\t\tsp: 0,\n\t\th: 0,\n\t\tf: 0\n\t},\n\toutputPayload: null,\n\toutputMode: OUTPUT_MODES.TEXT,\n\thasSymbolTable: false,\n\treset: 0,\n\tcurrentBreakpoint: null,\n\tbreakpoints: []\n};\n\nexport const reducer = function(state, action) {\n  try {\n    return ACTION_HANDLER[action.type](state, action.payload);\n  } catch (error) {\n    alert('there is no action with this type');\n    return state;\n  }\n};\n\nconst ACTION_HANDLER = {\n  [Actions.SET_MEMORY]: ActionHandlers.SET_MEMORY_HANDLER,\n  [Actions.SET_INSTRUCTIONS]: ActionHandlers.SET_INSTRUCTIONS_HANDLER,\n\t[Actions.SET_CONTEXT]: ActionHandlers.SET_CONTEXT_HANDLER,\n\t[Actions.UPDATE_OUTPUT]: ActionHandlers.SET_OUTPUT_PAYLOAD_HANDLER,\n\t[Actions.SET_SYMBOLS]: ActionHandlers.SET_SYMBOLS_HANDLER,\n\t[Actions.HAS_SYMBOL_TABLE]: ActionHandlers.SET_HAS_SYMBOL_TABLE_HANDLER,\n\t[Actions.RESET_STATE]: ActionHandlers.RESET_STATE_HANDLER,\n\t[Actions.SET_CURRENT_BREAKPOINT]: ActionHandlers.SET_CURRENT_BREAKPOINT_HANDLER,\n\t[Actions.SET_BREAKPOINTS]: ActionHandlers.SET_BREAKPOINTS_HANDLER,\n\t[Actions.CLEAR_ALL_BREAKPOINTS]: ActionHandlers.CLEAR_ALL_BREAKPOINTS_HANDLER,\n\t[Actions.SET_VALUE_IN_MEMORY]: ActionHandlers.SET_VALUE_IN_MEMORY_HANDLER\n};\n","import React, { useReducer } from 'react';\nimport HomePage from './pages/HomePage';\nimport ApplicationContext from './context/Context';\nimport { reducer, initialState } from './store/Reducer';\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <div>\n      <ApplicationContext.Provider value={{ state, dispatch }}>\n        <HomePage />\n      </ApplicationContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}