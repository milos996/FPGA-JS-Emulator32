(this["webpackJsonpfpga-js-emulator32"]=this["webpackJsonpfpga-js-emulator32"]||[]).push([[8],{11:function(e,t,n){"use strict";var r=n(9),s=n(10),a=n(20),u=n(2),c=n(23),i=n(8),l=n(18),o=function(){function e(t,n,s,u,i){Object(r.a)(this,e),this.argumentLength=2,this.content="",this.argument=null,this.symbolAddress=null,this.addrStr=null,this.source=null,this.destination=null,this.address=null,this.opcode=null,this.ssource="",this.sdestination="",this.assembler="",this.isJump=!1,this.hasArgument=!1,this.address=n,this.opcode=t[n/2],this.source=s,this.destination=u,this.ssource=c.a[s],this.sdestination=c.a[u],this.setContent();var o=i.hasOwnProperty(Object(l.a)(n))?i[Object(l.a)(n.toString(16))]:null;null!==o&&o.length>0?(this.symbolAddress=o,this.addrStr=Object(a.format)("%s (%s)",this.address.toString(16),o)):(this.addrStr=Object(a.format)("%s",this.address.toString(16)),this.symbolAddress=this.addrStr)}return Object(s.a)(e,[{key:"setContent",value:function(){this.hasArgument?4!==this.argumentLength?2===this.argumentLength&&(this.content=Object(a.format)("%s, %s",this.opcode.toString(16),this.argument.toString(16))):this.content=Object(a.format)("%s, %s",this.opcode.toString(16),this.argument.toString(16)):this.content=Object(a.format)("%s",this.opcode.toString(16))}},{key:"exec",value:function(e){e.context,e.memory;throw Error("Execution of this instruction is not possible!")}},{key:"setArgument32",value:function(t){var n=t[Math.floor((this.address+2)/2)],r=t[Math.floor((this.address+4)/2)];this.argument=e.fixInt(n,r),this.hasArgument=!0,this.argumentLength=4}},{key:"setArgument8",value:function(t){var n=t[Math.floor((this.address+2)/2)];this.argument=e.fix8(n),this.hasArgument=!0,this.argumentLength=2}},{key:"setArgument",value:function(t){var n=t[Math.floor((this.address+2)/2)];this.argument=e.fix(n),this.hasArgument=!0,this.argumentLength=2}},{key:"setAssembler",value:function(e,t){if(this.hasArgument){var n=t.hasOwnProperty(Object(l.a)(this.argument))?t[Object(l.a)(this.argument)]:null;n&&n.length?this.assembler=Object(a.format)(e,n):this.assembler=Object(a.format)(e,this.argument.toString(16))}else this.assembler=e}},{key:"findLabel",value:function(e){if(1===e.length)return 0;for(var t=this.address;t>=45056;t--){var n=i.a.addressInstruction[t];if(null!==n)for(var r=0;r<e.length;r++){if(e[r].includes(n.symbolAddress))return r}}for(var s=this.address;s<9e4;s++){var a=i.a.addressInstruction[s];if(null!==a)for(var u=0;u<e.length;u++){if(e[u].includes(a.symbolAddress))return u}}return-1}}],[{key:"markOverflow",value:function(t,n,r,s){var a=e.sign(t);a==e.sign(n)&a!=e.sign(r)?s.f|=4:s.f&=65531}},{key:"markFlags",value:function(e,t,n){n.f=0==t?1|n.f:65534&n.f,n.f=t<0||1==(2147483648&t)?65527&n.f:8|n.f,n.f=0!=(4294967296&e)?2|n.f:13&n.f}},{key:"sign",value:function(e){return 2147483648&e}},{key:"neg",value:function(e){return 4294967296-e&4294967295}},{key:"push",value:function(e,t,n){var r=n>>16;e[t]=r;var s=65535&n;e[t+1]=s}},{key:"pop",value:function(t,n){var r=t[n],s=t[n+1];return e.fixInt(r,s)}},{key:"fixInt",value:function(e,t){return(e>=0?e:65535&e)<<16|(t>=0?t:65535&t)}},{key:"fix8",value:function(e){return 255&e}},{key:"fix",value:function(e){return e<u.e.MIN?65535&e:4294967295&e}},{key:"getMemContent",value:function(t,n,r,s){if(!0&r)switch(2147483647&r){case 64:return t.uart;case 69:return+new Date>>20;default:return 0}var a=s[n],u=s[n+1];return e.fixInt(a,u)}},{key:"setMemContent",value:function(e,t,n,r){if(n<u.e.MIN||n>u.e.MAX)return e[t]=n>>16,void(e[t+1]=65535&n);!1&r&&(e[t]=n)}}]),e}();t.a=o},18:function(e,t,n){"use strict";function r(e){return"0x".concat(e.toString(16))}n.d(t,"a",(function(){return r}))},2:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return c}));var r=1e5,s={ASM:"asm",BIN:"bin",SYM:"sym"},a={MIN:-32768,MAX:32767},u={TEXT:"text",GRAPHICS_MODE_320_240:"graphics_mode_320_240",GRAPHICS_MODE_640_480:"graphics_mode_640_480"},c={PRIMARY:"#4F87B8",SECONDARY:"#F17300",PRIMARY_LIGHT:"#81A4CD",NEUTRAL:"#DBE4EE",PRIMARY_DARK:"#054A91"}},21:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return o}));var r=n(3),s=n.n(r),a=n(6),u=n(9),c=n(10),i=n(28),l=n(11),o=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"parse",value:function(){var t=Object(a.a)(s.a.mark((function t(n,r){var a,u,c,i,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0,u=[],c={};case 3:if(!(a<=1e5)){t.next=23;break}return i=void 0,t.prev=5,t.next=8,e.getInstruction(a,n,r);case 8:i=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),console.log(t.t0);case 14:a+=2,i.setContent(),l=u.push(i),i.tableLine=l-1,i.hasArgument&&(a+=i.argumentLength),"nop"!==i.assembler&&console.log("".concat(a,". INSTRUCTION -> ").concat(i.assembler,"  ----  ").concat(i.constructor.name)),c[i.address]=i,t.next=3;break;case 23:return console.log("DONE PARSING"),t.abrupt("return",{lines:u,addressInstruction:c});case 25:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e,n){return t.apply(this,arguments)}}()}],[{key:"getInstruction",value:function(){var e=Object(a.a)(s.a.mark((function e(t,n,r){var a,u,c,o,d,f,b,h,p,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n[t/2],u=a>>4&15,c=a>>12&15,o=a>>8&15,e.prev=4,(d=i.a[15&a]).hasOwnProperty(u)){e.next=8;break}return e.abrupt("return",new l.a(n,t,0,0,r));case 8:d=d[u],e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",new l.a(n,t,0,0,r));case 14:return b=(f=d).class,h=f.type,p=void 0===h?null:h,e.next=17,b();case 17:if(y=e.sent,!p){e.next=20;break}return e.abrupt("return",new y.default(n,t,c,o,p,r));case 20:return e.abrupt("return",new y.default(n,t,c,o,r));case 21:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),d=new o},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={0:"r0",1:"r1",2:"r2",3:"r3",4:"r4",5:"r5",6:"r6",7:"r7",8:"r8",9:"r9",10:"r10",11:"r11",12:"r12",13:"r13",15:"sp",14:"h"}},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var r,s,a=n(1),u={ADD_W:19,ADD_S:1,ADD_B:10,SUB_W:20,SUB_S:2,AND_W:21,OR_W:22,XOR_W:23,SHL_W:25,SHR_W:24,MUL_W:26,DIV_W:27,AND_S:3,OR_S:4,XOR_S:5,SHL_S:7,SHR_S:6,MUL_S:8,DIV_S:9,SUB_B:11,AND_B:12,OR_B:13,XOR_B:14,SHL_B:16,SHR_B:15,MUL_B:17,DIV_B:18,FADD:28,FSUB:29,FMUL:30,FDIV:31},c=(r={},Object(a.a)(r,u.ADD_S,"add.s "),Object(a.a)(r,u.SUB_S,"sub.s "),Object(a.a)(r,u.AND_S,"and.s "),Object(a.a)(r,u.OR_S,"or.s "),Object(a.a)(r,u.XOR_S,"xor.s "),Object(a.a)(r,u.SHL_S,"shl.s "),Object(a.a)(r,u.SHR_S,"shr.s "),Object(a.a)(r,u.MUL_S,"mul.s "),Object(a.a)(r,u.DIV_S,"div.s "),Object(a.a)(r,u.ADD_B,"add.b "),Object(a.a)(r,u.SUB_B,"sub.b "),Object(a.a)(r,u.AND_B,"and.b "),Object(a.a)(r,u.OR_B,"or.b "),Object(a.a)(r,u.XOR_B,"xor.b "),Object(a.a)(r,u.SHL_B,"shl.b "),Object(a.a)(r,u.SHR_B,"shr.b "),Object(a.a)(r,u.MUL_B,"mul.b "),Object(a.a)(r,u.DIV_B,"div.b "),Object(a.a)(r,u.ADD_W,"add.w "),Object(a.a)(r,u.SUB_W,"sub.w "),Object(a.a)(r,u.AND_W,"and.w "),Object(a.a)(r,u.OR_W,"or.w "),Object(a.a)(r,u.XOR_W,"xor.w "),Object(a.a)(r,u.SHL_W,"shl.w "),Object(a.a)(r,u.SHR_W,"shr.w "),Object(a.a)(r,u.MUL_W,"mul.w "),Object(a.a)(r,u.DIV_W,"div.w "),Object(a.a)(r,u.FADD,"fadd "),Object(a.a)(r,u.FSUB,"fsub "),Object(a.a)(r,u.FMUL,"fmul "),Object(a.a)(r,u.FDIV,"fdiv "),r),i=(s={},Object(a.a)(s,0,{0:{class:function(){return n.e(86).then(n.bind(null,57))}},1:{class:function(){return n.e(83).then(n.bind(null,58))}},2:{class:function(){return n.e(82).then(n.bind(null,59))}},3:{class:function(){return n.e(79).then(n.bind(null,60))}},4:{class:function(){return n.e(87).then(n.bind(null,61))}},5:{class:function(){return n.e(89).then(n.bind(null,62))}},6:{class:function(){return n.e(90).then(n.bind(null,63))}},7:{class:function(){return n.e(88).then(n.bind(null,64))}},8:{class:function(){return n.e(91).then(n.bind(null,65))}},9:{class:function(){return n.e(78).then(n.bind(null,66))}},10:{class:function(){return n.e(92).then(n.bind(null,67))}},11:{class:function(){return n.e(85).then(n.bind(null,68))}},12:{class:function(){return n.e(80).then(n.bind(null,69))}},13:{class:function(){return n.e(81).then(n.bind(null,70))}},14:{class:function(){return n.e(84).then(n.bind(null,71))}},15:{class:function(){return n.e(77).then(n.bind(null,72))}}}),Object(a.a)(s,1,{0:{class:function(){return n.e(24).then(n.bind(null,73))}},1:{class:function(){return n.e(35).then(n.bind(null,74))}},2:{class:function(){return n.e(30).then(n.bind(null,75))}},3:{class:function(){return n.e(25).then(n.bind(null,76))}},4:{class:function(){return n.e(27).then(n.bind(null,77))}},5:{class:function(){return n.e(31).then(n.bind(null,78))}},6:{class:function(){return n.e(28).then(n.bind(null,79))}},7:{class:function(){return n.e(32).then(n.bind(null,80))}},8:{class:function(){return n.e(29).then(n.bind(null,81))}},9:{class:function(){return n.e(26).then(n.bind(null,82))}},10:{class:function(){return n.e(34).then(n.bind(null,83))}},15:{class:function(){return n.e(33).then(n.bind(null,84))}}}),Object(a.a)(s,2,{0:{class:function(){return n.e(23).then(n.bind(null,56))}},1:{class:function(){return n.e(20).then(n.bind(null,85))}},2:{class:function(){return n.e(16).then(n.bind(null,86))}},3:{class:function(){return n.e(11).then(n.bind(null,87))}},4:{class:function(){return n.e(13).then(n.bind(null,88))}},5:{class:function(){return n.e(17).then(n.bind(null,89))}},6:{class:function(){return n.e(14).then(n.bind(null,90))}},7:{class:function(){return n.e(18).then(n.bind(null,91))}},8:{class:function(){return n.e(15).then(n.bind(null,92))}},9:{class:function(){return n.e(12).then(n.bind(null,93))}},10:{class:function(){return n.e(19).then(n.bind(null,94))}}}),Object(a.a)(s,3,{0:{class:function(){return n.e(65).then(n.bind(null,95))}},1:{class:function(){return n.e(64).then(n.bind(null,96))}},2:{class:function(){return n.e(66).then(n.bind(null,97))}},3:{class:function(){return n.e(62).then(n.bind(null,98))}},4:{class:function(){return n.e(61).then(n.bind(null,99))}},5:{class:function(){return n.e(63).then(n.bind(null,100))}},8:{class:function(){return n.e(71).then(n.bind(null,101))}},9:{class:function(){return n.e(73).then(n.bind(null,102))}},10:{class:function(){return n.e(72).then(n.bind(null,103))}},11:{class:function(){return n.e(70).then(n.bind(null,104))}},12:{class:function(){return n.e(22).then(n.bind(null,105))}},13:{class:function(){return n.e(21).then(n.bind(null,106))}}}),Object(a.a)(s,4,{0:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.ADD_W},1:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.ADD_S},2:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.ADD_W},3:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.ADD_S},4:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.ADD_B},7:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.MUL_W},8:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.SUB_W},9:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.SUB_S},10:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.SUB_W},11:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.SUB_S},12:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.SUB_B}}),Object(a.a)(s,5,{0:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.AND_W},1:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.AND_S},2:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.AND_W},3:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.AND_S},4:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.AND_B},6:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.SHR_W},7:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.MUL_W},8:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.OR_W},9:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.OR_S},10:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.OR_W},11:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.OR_S},12:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.OR_B}}),Object(a.a)(s,6,{0:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.XOR_W},1:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.XOR_S},2:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.XOR_W},3:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.XOR_S},4:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.XOR_B},8:{class:function(){return n.e(39).then(n.bind(null,107))}},10:{class:function(){return n.e(38).then(n.bind(null,108))}},11:{class:function(){return n.e(37).then(n.bind(null,109))}},12:{class:function(){return n.e(36).then(n.bind(null,110))}}}),Object(a.a)(s,7,{0:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.SHL_W},1:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.SHL_S},2:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.SHL_W},3:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.SHL_S},4:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.SHL_B},8:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.SHR_W},9:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.SHR_S},10:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.SHR_W},11:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.SHR_S},12:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.SHR_B}}),Object(a.a)(s,8,{0:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.MUL_W},1:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.MUL_S},2:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.MUL_W},3:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.MUL_S},4:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.MUL_B},8:{class:function(){return n.e(6).then(n.bind(null,12))},type:u.DIV_W},9:{class:function(){return n.e(4).then(n.bind(null,13))},type:u.DIV_S},10:{class:function(){return n.e(5).then(n.bind(null,14))},type:u.DIV_W},11:{class:function(){return n.e(3).then(n.bind(null,15))},type:u.DIV_S},12:{class:function(){return n.e(1).then(n.bind(null,16))},type:u.DIV_B}}),Object(a.a)(s,9,{0:{class:function(){return n.e(60).then(n.bind(null,111))}},1:{class:function(){return n.e(57).then(n.bind(null,112))}},2:{class:function(){return n.e(59).then(n.bind(null,113))}},3:{class:function(){return n.e(58).then(n.bind(null,114))}},4:{class:function(){return n.e(56).then(n.bind(null,115))}},6:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.SHR_W},8:{class:function(){return n.e(55).then(n.bind(null,116))}},9:{class:function(){return n.e(52).then(n.bind(null,117))}},10:{class:function(){return n.e(54).then(n.bind(null,118))}},11:{class:function(){return n.e(53).then(n.bind(null,119))}},12:{class:function(){return n.e(51).then(n.bind(null,120))}}}),Object(a.a)(s,10,{0:{class:function(){return n.e(45).then(n.bind(null,121))}},1:{class:function(){return n.e(43).then(n.bind(null,122))}},2:{class:function(){return n.e(44).then(n.bind(null,123))}},3:{class:function(){return n.e(42).then(n.bind(null,124))}},4:{class:function(){return n.e(40).then(n.bind(null,125))}},8:{class:function(){return n.e(50).then(n.bind(null,126))}},10:{class:function(){return n.e(49).then(n.bind(null,127))}},11:{class:function(){return n.e(48).then(n.bind(null,128))}},12:{class:function(){return n.e(47).then(n.bind(null,129))}}}),Object(a.a)(s,11,{2:{class:function(){return n.e(7).then(n.bind(null,24))},type:u.FADD},3:{class:function(){return n.e(7).then(n.bind(null,24))},type:u.FSUB},4:{class:function(){return n.e(7).then(n.bind(null,24))},type:u.FMUL},5:{class:function(){return n.e(7).then(n.bind(null,24))},type:u.FDIV},7:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.MUL_W}}),Object(a.a)(s,12,{0:{class:function(){return n.e(68).then(n.bind(null,130))}},1:{class:function(){return n.e(67).then(n.bind(null,131))}},2:{class:function(){return n.e(69).then(n.bind(null,132))}},3:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.OR_W},4:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.XOR_W},6:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.SHR_W},7:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.MUL_W},8:{class:function(){return n.e(74).then(n.bind(null,133))}},9:{class:function(){return n.e(76).then(n.bind(null,134))}},10:{class:function(){return n.e(75).then(n.bind(null,135))}}}),Object(a.a)(s,13,{0:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.ADD_W},1:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.SUB_W},2:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.AND_W},3:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.OR_W},4:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.XOR_W},5:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.SHL_W},6:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.SHR_W},7:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.MUL_W},8:{class:function(){return n.e(0).then(n.bind(null,4))},type:u.DIV_W},9:{class:function(){return n.e(46).then(n.bind(null,136))}}}),Object(a.a)(s,14,{0:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.ADD_B},1:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.SUB_B},2:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.AND_B},3:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.OR_B},4:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.XOR_B},5:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.SHL_B},6:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.SHR_B},7:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.MUL_B},8:{class:function(){return n.e(2).then(n.bind(null,17))},type:u.DIV_B},9:{class:function(){return n.e(41).then(n.bind(null,137))}}}),s)},34:function(e,t,n){e.exports=n(55)},39:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(26),u=n.n(a),c=(n(39),n(5)),i=n(3),l=n.n(i),o=n(6),d=n(9),f=n(10),b=n(2),h=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"parse",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",{data:null});case 2:if((n=t.name.split(".").pop())!==b.b.ASM){e.next=7;break}return e.next=6,this.asmParse(t);case 6:return e.abrupt("return",e.sent);case 7:if(n!==b.b.BIN){e.next=11;break}return e.next=10,this.binParse(t);case 10:return e.abrupt("return",e.sent);case 11:if(n!==b.b.SYM){e.next=15;break}return e.next=14,this.symParse(t);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"asmParse",value:function(e){return new Promise((function(t,n){try{var r=new FileReader;r.onload=function(e){for(var n=r.result,s=Array(b.c).fill(0),a=n.split(" "),u=0,c=0;c<a.length;c++){var i=a[c];s[u++]=parseInt(i,16)}t({data:s})},r.readAsText(e)}catch(s){n({error:s})}}))}},{key:"binParse",value:function(e){return new Promise((function(t,n){try{var r=new FileReader;r.onload=function(e){for(var n,s,a,u=r.result,c=new Int8Array(u),i=Array(b.c).fill(0),l=0;l<i.length/2;l++)(s=c[2*l])<0&&(s=256+s),n=s<<8,(a=c[2*l+1])<0&&(a=256+a),n+=a,i[l]=n;t({data:i})},r.readAsArrayBuffer(e)}catch(s){n({error:s})}}))}},{key:"symParse",value:function(e){return new Promise((function(t,n){try{var r=new FileReader;r.onload=function(e){for(var n=r.result.split("\n"),s={},a=0;a<n.length;a++){var u=n[a];if(""!==u.trim()){var c=u.split("=");s[c[1].trim()]=c[0].trim()}}t({data:s})},r.readAsText(e)}catch(s){n({error:s})}}))}}]),e}()),p=n(8),y=s.a.createContext({state:null,dispatch:function(){}}),m="SET_MEMORY",O="SET_INSTRUCTIONS",_="SET_CONTEXT",j="UPDATE_OUTPUT",v="SET_SYMBOLS",g="HAS_SYMBOL_TABLE",S="RESET_STATE",x="SET_CURRENT_BREAKPOINT",k="SET_BREAKPOINTS",E="CLEAR_ALL_BREAKPOINTS";function w(){var e=Object(r.useContext)(y),t=e.dispatch,n=e.state,a=Object(r.useState)([]),u=Object(c.a)(a,2),i=u[0],d=u[1],f=Object(r.useState)((function(){return!1})),b=Object(c.a)(f,2),O=b[0],k=b[1],E=Object(r.useState)((function(){return!1})),w=Object(c.a)(E,2),A=w[0],R=w[1],D=Object(r.useState)((function(){return!1})),I=Object(c.a)(D,2),B=I[0],P=I[1],C=Object(r.useState)({shouldRunAgain:!0}),L=Object(c.a)(C,2),M=L[0],W=L[1];function N(){return(N=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(!A||A&&!O)&&p.a.inject(n.memory,n.lines,n.addressInstruction),R(!0),k(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var n,r,s,a,u,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=16;break}return n=i[0],r=null,i.length>1&&(n=i[0].name.includes(".bin")?i[0]:i[1],r=i[0].name.includes(".sym")?i[0]:i[1]),e.next=6,h.parse(n);case 6:if(s=e.sent,a=s.data,t({type:m,payload:a}),!r){e.next=15;break}return e.next=12,h.parse(r);case 12:u=e.sent,c=u.data,t({type:v,payload:c});case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.currentBreakpoint===p.a.context.pc||!n.breakpoints.includes(p.a.context.pc)||B){e.next=4;break}return t({type:x,payload:p.a.context.pc}),k(!0),e.abrupt("return");case 4:return t({type:x,payload:null}),r=p.a.run(),e.next=8,t({type:m,payload:r.memory});case 8:return e.next=10,t({type:_,payload:r.context});case 10:if(!r.instructionResponse.content&&0!==r.instructionResponse.content){e.next=13;break}return e.next=13,t({type:j,payload:r.instructionResponse});case 13:W(r),B&&P(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(A&&!O&&M.shouldRunAgain||B&&M.shouldRunAgain)&&function(){e.apply(this,arguments)}()}),[A,O,M,B]),s.a.createElement("div",null,s.a.createElement("input",{type:"file",id:"avatar",accept:".bin,.sym",name:"avatar",onChange:function(e){var n=e.currentTarget.files;d(n),n.length>1&&t({type:g,payload:!0})},multiple:!0}),s.a.createElement("button",{className:"my-button",onClick:function(){return N.apply(this,arguments)},disabled:!i.length}," Start "),s.a.createElement("button",{className:"my-button",onClick:function(){k(!0)},disabled:!i.length}," Stop "),s.a.createElement("button",{className:"my-button",onClick:function(){P(!0)},disabled:!i.length}," Step over "),s.a.createElement("button",{className:"my-button",onClick:function(){t({type:S,payload:n.reset+1}),R(!1)},disabled:!i.length}," Reset "))}var A,R,D=n(19),I=n(1),B="black",P=(A={},Object(I.a)(A,"red","#ff0000"),Object(I.a)(A,"white","#ffffff"),Object(I.a)(A,B,"#000000"),Object(I.a)(A,"green","#33cc33"),Object(I.a)(A,"blue","#0000ff"),Object(I.a)(A,"pink","#ff99ff"),Object(I.a)(A,"yellow","#ffff00"),Object(I.a)(A,"light_blue","#00ffff"),A),C=(R={},Object(I.a)(R,0,{0:P[B],1:P.red,2:P.green,3:P.yellow,4:P.blue,5:P.pink,6:P.light_blue,7:P.white}),Object(I.a)(R,1,{0:P.white,1:P.light_blue,2:P.pink,3:P.blue,4:P.yellow,5:P.green,6:P.red,7:P[B]}),R);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=Object(I.a)({},b.d.TEXT,(function(e){var t=N(65535&~(e>>12&7)),n=N(7&e>>8);return{value:0!==(255&e)?String.fromCharCode(255&e):" ",foregroundColor:t,backgroundColor:n}}));function N(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=7&e;try{return C[t?1:0][n]}catch(r){return P[B]}}function T(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],u=Object(r.useContext)(y),i=(u.dispatch,u.state);return Object(r.useEffect)((function(){i.outputPayload&&function(){var e=W[i.outputMode](i.outputPayload.content),t=n.findIndex((function(e){return e.address===i.outputPayload.address}));a(-1!==t?[].concat(Object(D.a)(n.slice(0,t)),[M({address:i.outputPayload.address},e)],Object(D.a)(n.slice(t+1))).sort((function(e,t){return e-t})):[].concat(Object(D.a)(n),[M({address:i.outputPayload.address},e)]).sort((function(e,t){return e.address-t.address})))}()}),[i.outputPayload]),Object(r.useEffect)((function(){i.reset&&a([])}),[i.reset]),s.a.createElement("div",{className:"output"},n.map((function(e,t){return s.a.createElement("span",{key:t,className:"letter-spacing",style:{color:e.foregroundColor,backgroundColor:e.backgroundColor}},e.value)})))}var U=["f"],q={f:"POCZ"};function H(){var e=Object(r.useContext)(y).state;return s.a.createElement("div",{className:"horizontal-alignment flex-wrap"},Object.keys(e.context).map((function(t,n){return s.a.createElement("div",{key:n,className:"vertical-alignment flag-style"},s.a.createElement("span",null," ",function(e){return(q.hasOwnProperty(e)?q[e]:e).toUpperCase()}(t)," "),s.a.createElement("span",null," ",function(t){return U.includes(t)?e.context[t].toString(2):e.context[t].toString(16)}(t)," "))})))}function F(){return s.a.createElement("div",null,"STCK FRAMEE")}var X=n(22),V=n(18);function Y(e){var t=e.columnIndex,n=e.rowIndex,r=e.style,a=e.memory,u=null;if(0===t)u=4*n*2;else{var c=4*n-1+t;u=a.length>c?a[c]:0}return s.a.createElement("div",{style:r},Object(V.a)(u))}var K=["Address","0-1","2-3","4-5","6-7"];function G(){var e=Object(r.useContext)(y),t=(e.dispatch,e.state);return s.a.createElement("div",null,s.a.createElement("h2",{style:{textAlign:"center"}},"Memory"),s.a.createElement("div",null,s.a.createElement("div",{style:{height:30,width:400,display:"flex",borderBottom:"black solid 1px"}},K.map((function(e,t){return s.a.createElement("span",{key:t,style:{width:80}},e)}))),s.a.createElement(X.a,{columnCount:5,columnWidth:80,height:400,rowCount:5e4,rowHeight:30,width:400},(function(e){return s.a.createElement(Y,Object.assign({memory:t.memory},e))}))))}var z=n(27),J=n.n(z),Z=n(21);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e){var t=e.addressInstruction,n=e.data,r=e.index,a=e.pc,u=e.style,c=e.handleCheckboxInput,i=e.hasBreakpoint,l=void 0!==i&&i,o=e.isCurrentBreakpoint,d=void 0!==o&&o,f=t[n[r]];return s.a.createElement("div",{style:Q({height:30,width:800,display:"flex",background:d?b.a.PRIMARY_DARK:f.address===a?b.a.SECONDARY:"#FFFFFF",color:d?b.a.NEUTRAL:f.address===a?b.a.NEUTRAL:"#000000"},u)},s.a.createElement("span",{style:{width:66}},s.a.createElement("input",{type:"checkbox",checked:l,value:f.address,onChange:c})),s.a.createElement("span",{style:{width:200}},f.addrStr),s.a.createElement("span",{style:{width:266}},f.content),s.a.createElement("span",{style:{width:266}},f.assembler))}var te=[{isHeader:!0,label:"Address"},{isHeader:!0,label:"Content"},{isHeader:!0,label:"Assembler"}];function ne(){var e=Object(r.useContext)(y),t=e.dispatch,n=e.state,a=Object(r.useState)(0),u=Object(c.a)(a,2),i=u[0],d=u[1],f=Object(r.useState)(!0),h=Object(c.a)(f,2),p=h[0],m=h[1],_=Object(r.useRef)(null);return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.hasSymbolTable&&Object.keys(n.symbolTable).length||!n.hasSymbolTable)){e.next=5;break}return e.next=3,Z.b.parse(n.memory,n.symbolTable);case 3:r=e.sent,t({type:O,payload:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.memory.length>0&&function(){e.apply(this,arguments)}()}),[n.memory,n.symbolTable]),Object(r.useEffect)((function(){p&&(n.context.pc/2>i+4||n.context.pc/2<i-4)&&(d(n.context.pc/2-4),_.current.scrollToItem(n.context.pc/2-4))}),[n.context.pc]),Object(r.useEffect)((function(){p&&(d(i+2),_.current.scrollToItem(i+10))}),[p]),Object(r.useEffect)((function(){Object.keys(n.addressInstruction).length&&(d(22538),_.current.scrollToItem(22538))}),[n.addressInstruction]),s.a.createElement("div",null,s.a.createElement("div",{className:"instruction-buttons"},s.a.createElement("button",{className:"my-button",onClick:function(){m((function(e){return!e}))}},p?"Hide":"Show"," instructions"),s.a.createElement("button",{className:"my-button",onClick:function(){t({type:E})}},"Clear all breakpoints")),p&&s.a.createElement("div",{style:{height:30,width:800,display:"flex"}},te.map((function(e,t){return s.a.createElement("span",{key:t,style:{width:266}},e.label)}))),p&&Object.keys(n.addressInstruction)&&s.a.createElement(X.b,{ref:_,itemData:Object.keys(n.addressInstruction),itemCount:Object.keys(n.addressInstruction).length,height:500,itemSize:30,overscanCount:15,width:800,style:{border:"".concat(b.a.PRIMARY," solid 1px"),borderRadius:5},itemKey:function(e,t){return t[e]}},(function(e){var r=e.index,a=e.data,u=e.style;return s.a.createElement(ee,{index:r,data:a,style:u,addressInstruction:n.addressInstruction,pc:n.context.pc,hasBreakpoint:n.breakpoints.includes(n.addressInstruction[a[r]].address),handleCheckboxInput:function(){return e=n.addressInstruction[a[r]].address,void t({type:k,payload:e});var e},isCurrentBreakpoint:n.currentBreakpoint===n.addressInstruction[a[r]].address&&n.addressInstruction[a[r]].address===n.context.pc})})))}function re(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],u=Object(r.useState)(!1),i=Object(c.a)(u,2),l=i[0],o=i[1];return s.a.createElement("div",null,s.a.createElement("h1",null,"FPGA EMULTAOR"),s.a.createElement("div",{className:"horizontal-alignment"},s.a.createElement("div",{className:"vertical-alignment home-part-1"},s.a.createElement(w,null),s.a.createElement(T,null)),s.a.createElement("div",{className:"vertical-alignment"},s.a.createElement(H,null),s.a.createElement(ne,null),s.a.createElement("div",{className:"horizontal-alignment"},s.a.createElement("button",{className:"my-button",onClick:function(){return o(!0)}},"Stack Frame"),s.a.createElement("button",{className:"my-button",onClick:function(){return a(!0)}},"Memory")))),s.a.createElement(J.a,{style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%"}},ariaHideApp:!1,isOpen:l,contentLabel:"Example Modal",shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:function(){return o(!1)}},s.a.createElement(F,null)),s.a.createElement(J.a,{ariaHideApp:!1,style:{content:{top:"30%",left:"auto",right:"10px",bottom:"auto"}},isOpen:n,contentLabel:"Example Modal",shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:function(){return a(!1)}},s.a.createElement(G,null)))}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(n,!0).forEach((function(t){Object(I.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue,ce={memory:[],lines:[],addressInstruction:{},symbolTable:{},context:{r0:0,r1:0,r2:0,r3:0,r4:0,r5:0,r6:0,r7:0,r8:0,r9:0,r10:0,r11:0,r12:0,r13:0,pc:0,sp:0,h:0,f:0},outputPayload:null,outputMode:b.d.TEXT,hasSymbolTable:!1,reset:0,currentBreakpoint:null,breakpoints:[]},ie=function(e,t){try{return le[t.type](e,t.payload)}catch(n){return alert("there is no action with this type"),e}},le=(ue={},Object(I.a)(ue,m,(function(e,t){return ae({},e,{memory:t})})),Object(I.a)(ue,O,(function(e,t){return ae({},e,{lines:t.lines,addressInstruction:t.addressInstruction})})),Object(I.a)(ue,_,(function(e,t){return ae({},e,{context:ae({},e.context,{},t)})})),Object(I.a)(ue,j,(function(e,t){return ae({},e,{outputPayload:ae({},t)})})),Object(I.a)(ue,v,(function(e,t){return ae({},e,{symbolTable:ae({},t)})})),Object(I.a)(ue,g,(function(e,t){return ae({},e,{hasSymbolTable:t})})),Object(I.a)(ue,S,(function(e,t){return ae({},e,{reset:t})})),Object(I.a)(ue,x,(function(e,t){return ae({},e,{currentBreakpoint:t})})),Object(I.a)(ue,k,(function(e,t){var n=e.breakpoints.findIndex((function(e){return e===t}));return ae({},e,-1!==n?{breakpoints:[].concat(Object(D.a)(e.breakpoints.slice(0,n)),Object(D.a)(e.breakpoints.slice(n+1)))}:{breakpoints:[].concat(Object(D.a)(e.breakpoints),[t])})})),Object(I.a)(ue,E,(function(e){return ae({},e,{breakpoints:[]})})),ue);var oe=function(){var e=Object(r.useReducer)(ie,ce),t=Object(c.a)(e,2),n=t[0],a=t[1];return s.a.createElement("div",null,s.a.createElement(y.Provider,{value:{state:n,dispatch:a}},s.a.createElement(re,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(s.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,n){"use strict";var r=n(1),s=n(9),a=n(10),u=n(21),c=n(11);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=new(function(){function e(){Object(s.a)(this,e),this.irq0=!1,this.irq2_pressed=!1,this.irq2_released=!1,this.irq0_address=8,this.irq2_pressed_address=32,this.irq2_released_address=40,this.inIrq=!1,this.memory=[],this.lines=[],this.addressInstruction={},this.context={},this.running=!0}return Object(a.a)(e,[{key:"run",value:function(){var e;(this.irq0||this.irq2_pressed||this.irq2_released)&&this.prepareIrq();var t=this.addressInstruction[c.a.fix(this.context.pc)];try{e=t.exec({context:this.context,memory:this.memory})}catch(n){this.running=!1,console.log(n)}return{shouldRunAgain:this.running,context:this.context,memory:this.memory,instructionResponse:l({},e)}}},{key:"prepareIrq",value:function(){if((!this.irq0||0!==this.memory[this.irq0_address])&&(!this.irq2_pressed||0!==this.memory[this.irq2_pressed_address/2])&&(!this.irq2_released||0!==this.memory[this.irq2_released_address/2]))if(this.context.sp-=2,this.memory[Math.floor(c.a.fix(this.context.sp)/2)]=this.context.f,this.context.sp-=4,this.memory[Math.floor(c.a.fix(this.context.sp)/2)]=this.context.pc>>16,this.memory[Math.floor(c.a.fix(this.context.sp+2)/2)]=65535&this.context.pc,this.irq0){this.context.pc=this.irq0_address;var e=u.a.getInstruction(this.memory,this.irq0_address);e.setContent(),this.lines[this.irq0_address]=e,e.tableLine=this.irq0_address,this.addressInstruction[this.irq0_address]=e,this.irq0=!1}else if(this.irq2_pressed){this.irq2_pressed=!1,this.context.pc=this.irq2_pressed_address;var t=u.a.getInstruction(this.memory,this.irq2_pressed_address);t.setContent(),this.lines[this.irq2_pressed_address]=t,t.tableLine=this.irq2_pressed_address,this.addressInstruction[this.irq2_pressed_address]=t}else if(this.irq2_released){this.irq2_released=!1,this.context.pc=this.irq2_released_address;var n=u.a.getInstruction(this.memory,this.irq2_released_address);n.setContent(),this.lines[this.irq2_released_address]=n,n.tableLine=this.irq2_released_address,this.addressInstruction[this.irq2_released_address]=n}}},{key:"stop",value:function(){this.running=!1}},{key:"halt",value:function(){this.running=!1}},{key:"inject",value:function(e,t,n){this.memory=e,this.lines=t,this.addressInstruction=n,this.context={r0:0,r1:0,r2:0,r3:0,r4:0,r5:0,r6:0,r7:0,r8:0,r9:0,r10:0,r11:0,r12:0,r13:0,pc:45056,sp:0,h:0,f:0}}},{key:"setContextField",value:function(e,t){this.context=l({},this.context,Object(r.a)({},e,t))}}]),e}());t.a=o}},[[34,9,10]]]);
//# sourceMappingURL=main.a5226815.chunk.js.map